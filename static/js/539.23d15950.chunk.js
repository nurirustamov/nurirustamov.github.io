"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[539],{7539:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});t(5043);var a=t(5475),l=t(8132),n=t(4450),r=t(9207),i=t(3918),c=t(579);const d=e=>{let{group:s,profile:t,fetchComments:d,postComment:o,deleteComment:m}=e;return(0,c.jsxs)("div",{className:"animate-fade-in grid lg:grid-cols-3 gap-8 items-start",children:[(0,c.jsxs)("div",{className:"lg:col-span-1 space-y-6 lg:sticky lg:top-24",children:[(0,c.jsx)("div",{className:"flex flex-col gap-2",children:(0,c.jsx)(a.N_,{to:"/my-assignments",children:(0,c.jsxs)(n.A,{variant:"secondary",className:"w-full justify-center",children:[(0,c.jsx)(i.A6,{})," Tap\u015f\u0131r\u0131qlar\u0131ma qay\u0131t"]})})}),(0,c.jsxs)(l.A,{children:[(0,c.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,c.jsx)(i.K6,{className:"w-8 h-8 text-orange-500"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:s.name}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:s.description})]})]}),(0,c.jsxs)("h3",{className:"font-bold text-gray-800 mb-3 mt-4 pt-4 border-t",children:["\xdczvl\u0259r (",s.members.length,")"]}),(0,c.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.members.map(e=>{var s,t;return(0,c.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-md",children:[(0,c.jsx)(i.rM,{className:"w-6 h-6 text-gray-400"}),(0,c.jsxs)("span",{className:"font-medium text-gray-700",children:[null===(s=e.profiles)||void 0===s?void 0:s.first_name," ",null===(t=e.profiles)||void 0===t?void 0:t.last_name]})]},e.user_id)})})]})]}),(0,c.jsx)("div",{className:"lg:col-span-2",children:(0,c.jsx)(l.A,{children:(0,c.jsx)(r.A,{targetId:s.id,targetType:"group",profile:t,fetchComments:d,postComment:o,deleteComment:m})})})]})}},8132:(e,s,t)=>{t.d(s,{A:()=>l});t(5043);var a=t(579);const l=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(t),children:s})}},9207:(e,s,t)=>{t.d(s,{A:()=>m});var a=t(9379),l=t(5043),n=t(3216),r=t(5475),i=t(4450),c=t(3918),d=t(579);const o=e=>{var s;let{comment:t,onReply:a,onDelete:n,profile:r}=e;const[m,x]=(0,l.useState)(!1),[h,p]=(0,l.useState)("");return(0,d.jsxs)("div",{className:"flex flex-col gap-2 p-3 rounded-lg bg-white shadow-sm",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-orange-200 flex items-center justify-center font-bold text-orange-600",children:(null===(s=t.profiles.first_name)||void 0===s?void 0:s[0])||"U"}),(0,d.jsxs)("span",{className:"font-semibold text-gray-800",children:[t.profiles.first_name," ",t.profiles.last_name]})]}),(0,d.jsx)("span",{className:"text-xs text-gray-400",children:new Date(t.created_at).toLocaleString()})]}),(0,d.jsx)("p",{className:"text-gray-700 pl-10",children:t.content}),(0,d.jsxs)("div",{className:"flex items-center justify-end gap-2 pl-10",children:[r&&(0,d.jsxs)(i.A,{variant:"secondary",size:"sm",onClick:()=>x(!m),children:[(0,d.jsx)(c.Sb,{})," Cavab ver"]}),(null===r||void 0===r?void 0:r.id)===t.user_id&&(0,d.jsx)(i.A,{variant:"danger",size:"sm",onClick:()=>n(t.id),children:(0,d.jsx)(c.uc,{})})]}),m&&(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h.trim()&&(a(h,t.id),p(""),x(!1))},className:"pl-10 mt-2 flex gap-2",children:[(0,d.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),placeholder:"Cavab verilir: ".concat(t.profiles.first_name,"..."),className:"flex-grow mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm"}),(0,d.jsx)(i.A,{type:"submit",size:"sm",children:"G\xf6nd\u0259r"})]}),t.children&&t.children.length>0&&(0,d.jsx)("div",{className:"pl-6 border-l-2 border-orange-100 mt-2 space-y-3",children:t.children.map(e=>(0,d.jsx)(o,{comment:e,onReply:a,onDelete:n,profile:r},e.id))})]})},m=e=>{let{targetId:s,targetType:t,profile:c,fetchComments:m,postComment:x,deleteComment:h}=e;const[p,f]=(0,l.useState)([]),[u,g]=(0,l.useState)(""),j=(0,n.zy)();(0,l.useEffect)(()=>{s&&t&&(async()=>{const e=await m(s,t);f(e||[])})()},[s,t,m]);const v=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const l="".concat(j.pathname,"#comment-").concat(a||"new");if(await x(s,t,e,a,l)){const e=await m(s,t);f(e||[]),a||g("")}},y=async e=>{await h(e)&&f(s=>s.filter(s=>s.id!==e))},N=(0,l.useMemo)(()=>{const e={},s=[];return p.forEach(s=>{e[s.id]=(0,a.A)((0,a.A)({},s),{},{children:[]})}),p.forEach(t=>{t.parent_comment_id&&e[t.parent_comment_id]?e[t.parent_comment_id].children.push(e[t.id]):s.push(e[t.id])}),s},[p]);return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("h3",{className:"text-xl font-bold text-gray-800",children:["\u015e\u0259rhl\u0259r (",p.length,")"]}),c&&(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v(u)},className:"flex gap-2 items-start",children:[(0,d.jsx)("textarea",{value:u,onChange:e=>g(e.target.value),placeholder:"\u015e\u0259rhinizi yaz\u0131n...",className:"flex-grow mt-1 block w-full rounded-md border-gray-300 shadow-sm",rows:"3"}),(0,d.jsx)(i.A,{type:"submit",children:"G\xf6nd\u0259r"})]}),!c&&(0,d.jsxs)("p",{className:"text-center p-4 bg-gray-50 rounded-md",children:["\u015e\u0259rh yazmaq \xfc\xe7\xfcn ",(0,d.jsx)(r.N_,{to:"/auth",className:"text-orange-600 font-semibold hover:underline",children:"daxil olun"}),"."]}),(0,d.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,d.jsx)(o,{comment:e,onReply:v,onDelete:y,profile:c},e.id))})]})}}}]);
//# sourceMappingURL=539.23d15950.chunk.js.map