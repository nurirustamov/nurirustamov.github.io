"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[645],{8132:(e,a,t)=>{t.d(a,{A:()=>r});t(5043);var s=t(579);const r=e=>{let{children:a,className:t=""}=e;return(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(t),children:a})}},8645:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var s=t(9379),r=t(5043),n=t(3216),l=t(5475),d=t(8132),i=t(4450),c=t(3918),o=t(579);const x=()=>(0,o.jsx)("style",{children:"\n        @keyframes fadeIn {\n            from { opacity: 0; transform: scale(0.95); }\n            to { opacity: 1; transform: scale(1); }\n        }\n        @keyframes slideOut {\n            from { opacity: 1; transform: translateX(0); }\n            to { opacity: 0; transform: translateX(-100%); }\n        }\n        @keyframes slideIn {\n            from { opacity: 0; transform: translateX(100%); }\n            to { opacity: 1; transform: translateX(0); }\n        }\n        .flashcard-enter { animation: slideIn 0.3s ease-out forwards; }\n        .flashcard-exit { animation: slideOut 0.3s ease-in forwards; }\n        .flashcard-reveal { animation: fadeIn 0.3s ease-in-out forwards; }\n    "}),m=e=>{let{decks:a,userReviews:t,onUpdateReview:m}=e;const{deckId:h}=(0,n.g)(),[f,u]=(0,r.useState)({cards:[],currentCardIndex:0}),[j,g]=(0,r.useState)(null),[y,N]=(0,r.useState)(!1),[b,p]=(0,r.useState)("flashcard-enter"),[v,w]=(0,r.useState)(!0),k=(0,r.useMemo)(()=>a.find(e=>e.id===Number(h)),[a,h]);(0,r.useEffect)(()=>{if(!k)return;const e=(new Date).toISOString(),a=k.flashcards||[],s=(t||[]).filter(t=>a.some(e=>e.id===t.card_id)&&t.next_review_at<=e),r=a.filter(e=>!(t||[]).some(a=>a.card_id===e.id)),n=new Set(s.map(e=>e.card_id)),l=[...r,...a.filter(e=>n.has(e.id))].sort(()=>Math.random()-.5);u({cards:l,currentCardIndex:0}),l.length>0&&g(l[0]),w(!1)},[k,t]);const A=e=>{const a=f.cards[f.currentCardIndex],r=((e,a)=>{let{repetitions:t,ease_factor:r,interval:n}=e;a<3?(t=0,n=1):(n=0===t?1:1===t?6:Math.round(n*r),t+=1),r+=.1-(5-a)*(.08+.02*(5-a)),r<1.3&&(r=1.3);const l=new Date;return l.setDate(l.getDate()+n),(0,s.A)((0,s.A)({},e),{},{repetitions:t,ease_factor:parseFloat(r.toFixed(2)),interval:n,next_review_at:l.toISOString()})})((t||[]).find(e=>e.card_id===a.id)||{card_id:a.id,repetitions:0,ease_factor:2.5,interval:0},e);m(r),p("flashcard-exit"),setTimeout(()=>{u(e=>{const a=e.currentCardIndex+1;return e.cards[a]&&g(e.cards[a]),(0,s.A)((0,s.A)({},e),{},{currentCardIndex:a})}),N(!1),p("flashcard-enter")},300)};if(v)return(0,o.jsx)(d.A,{className:"text-center py-12",children:"T\u0259krar sessiyas\u0131 haz\u0131rlan\u0131r..."});if(!k)return(0,o.jsx)(d.A,{className:"text-center py-12",children:"Koloda tap\u0131lmad\u0131."});if(f.currentCardIndex>=f.cards.length)return(0,o.jsxs)(d.A,{className:"text-center py-12 animate-fade-in",children:[(0,o.jsx)(c.C1,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Sessiya Tamamland\u0131!"}),(0,o.jsx)("p",{className:"text-gray-600 mt-2",children:"Bu g\xfcn \xfc\xe7\xfcn b\xfct\xfcn t\u0259krarlar\u0131 bitirdiniz. Af\u0259rin!"}),(0,o.jsx)(l.N_,{to:"/decks",children:(0,o.jsxs)(i.A,{className:"mt-6",children:[(0,o.jsx)(c.A6,{})," B\xfct\xfcn kolodalara qay\u0131t"]})})]});const C=f.currentCardIndex/f.cards.length*100;return j?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x,{}),(0,o.jsxs)("div",{className:"animate-fade-in max-w-2xl mx-auto",children:[(0,o.jsx)("div",{className:"mb-4",children:(0,o.jsx)(l.N_,{to:"/decks",children:(0,o.jsxs)(i.A,{variant:"secondary",children:[(0,o.jsx)(c.A6,{})," Kolodalara qay\u0131t"]})})}),(0,o.jsxs)(d.A,{children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,o.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:k.title}),(0,o.jsxs)("span",{className:"text-sm font-semibold text-gray-600",children:[f.currentCardIndex+1," / ",f.cards.length]})]}),(0,o.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,o.jsx)("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"".concat(C,"%")}})})]}),(0,o.jsx)("div",{className:"w-full h-64 rounded-lg flex items-center justify-center p-6 text-center ".concat(b),children:y?(0,o.jsx)("p",{className:"text-xl font-semibold text-gray-800",children:j.back}):(0,o.jsx)("p",{className:"text-xl font-semibold text-gray-800",children:j.front})}),(0,o.jsx)("div",{className:"mt-6",children:y?(0,o.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,o.jsx)(i.A,{onClick:()=>A(0),variant:"danger",children:"Yenid\u0259n"}),(0,o.jsx)(i.A,{onClick:()=>A(2),className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:"\xc7\u0259tin"}),(0,o.jsx)(i.A,{onClick:()=>A(4),className:"bg-green-500 hover:bg-green-600 text-white",children:"Yax\u015f\u0131"}),(0,o.jsx)(i.A,{onClick:()=>A(5),className:"bg-blue-500 hover:bg-blue-600 text-white",children:"Asan"})]}):(0,o.jsx)(i.A,{onClick:()=>{N(!0)},className:"w-full",children:"Cavab\u0131 G\xf6st\u0259r"})})]})]})]}):(0,o.jsx)(d.A,{className:"text-center py-12",children:"Y\xfckl\u0259nir..."})}}}]);
//# sourceMappingURL=645.e78b233e.chunk.js.map