"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[645],{8132:(e,a,t)=>{t.d(a,{A:()=>r});t(5043);var s=t(579);const r=e=>{let{children:a,className:t=""}=e;return(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(t),children:a})}},8645:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var s=t(9379),r=t(5043),n=t(3216),i=t(5475),l=t(8132),d=t(4450),c=t(3918),o=t(4156),x=t(579);const m=()=>(0,x.jsx)("style",{children:"\n        @keyframes fadeIn {\n            from { opacity: 0; transform: scale(0.95); }\n            to { opacity: 1; transform: scale(1); }\n        }\n        @keyframes slideOut {\n            from { opacity: 1; transform: translateX(0); }\n            to { opacity: 0; transform: translateX(-100%); }\n        }\n        @keyframes slideIn {\n            from { opacity: 0; transform: translateX(100%); }\n            to { opacity: 1; transform: translateX(0); }\n        }\n        .flashcard-enter { animation: slideIn 0.3s ease-out forwards; }\n        .flashcard-exit { animation: slideOut 0.3s ease-in forwards; }\n        .flashcard-reveal { animation: fadeIn 0.3s ease-in-out forwards; }\n    "}),h=e=>{let{decks:a,userReviews:t,onUpdateReview:h,profile:f,showToast:u}=e;const{deckId:j}=(0,n.g)(),g=(0,n.Zp)(),[y,p]=(0,r.useState)({cards:[],currentCardIndex:0}),[N,b]=(0,r.useState)(null),[v,w]=(0,r.useState)(!1),[k,A]=(0,r.useState)("flashcard-enter"),[C,I]=(0,r.useState)(!0),_=(0,r.useMemo)(()=>a.find(e=>e.id===Number(j)),[a,j]),S=(0,o.c)(_,f);(0,r.useEffect)(()=>{if(!_)return;if(!S)return u("Bu kolodaya giri\u015f \xfc\xe7\xfcn icaz\u0259niz yoxdur."),void g("/decks");const e=(new Date).toISOString(),a=_.flashcards||[],s=(t||[]).filter(t=>a.some(e=>e.id===t.card_id)&&t.next_review_at<=e),r=a.filter(e=>!(t||[]).some(a=>a.card_id===e.id)),n=new Set(s.map(e=>e.card_id)),i=[...r,...a.filter(e=>n.has(e.id))].sort(()=>Math.random()-.5);p({cards:i,currentCardIndex:0}),i.length>0&&b(i[0]),I(!1)},[_,t,S,g,u]);const z=e=>{const a=y.cards[y.currentCardIndex],r=((e,a)=>{let{repetitions:t,ease_factor:r,interval:n}=e;a<3?(t=0,n=1):(n=0===t?1:1===t?6:Math.round(n*r),t+=1),r+=.1-(5-a)*(.08+.02*(5-a)),r<1.3&&(r=1.3);const i=new Date;return i.setDate(i.getDate()+n),(0,s.A)((0,s.A)({},e),{},{repetitions:t,ease_factor:parseFloat(r.toFixed(2)),interval:n,next_review_at:i.toISOString()})})((t||[]).find(e=>e.card_id===a.id)||{card_id:a.id,repetitions:0,ease_factor:2.5,interval:0},e);h(r),A("flashcard-exit"),setTimeout(()=>{p(e=>{const a=e.currentCardIndex+1;return e.cards[a]&&b(e.cards[a]),(0,s.A)((0,s.A)({},e),{},{currentCardIndex:a})}),w(!1),A("flashcard-enter")},300)};if(C)return(0,x.jsx)(l.A,{className:"text-center py-12",children:"T\u0259krar sessiyas\u0131 haz\u0131rlan\u0131r..."});if(!_)return(0,x.jsx)(l.A,{className:"text-center py-12",children:"Koloda tap\u0131lmad\u0131."});if(!S)return(0,x.jsx)("div",{className:"text-center py-12",children:"Giri\u015f yoxlan\u0131l\u0131r..."});if(y.currentCardIndex>=y.cards.length)return(0,x.jsxs)(l.A,{className:"text-center py-12 animate-fade-in",children:[(0,x.jsx)(c.C1,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,x.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Sessiya Tamamland\u0131!"}),(0,x.jsx)("p",{className:"text-gray-600 mt-2",children:"Bu g\xfcn \xfc\xe7\xfcn b\xfct\xfcn t\u0259krarlar\u0131 bitirdiniz. Af\u0259rin!"}),(0,x.jsx)(i.N_,{to:"/decks",children:(0,x.jsxs)(d.A,{className:"mt-6",children:[(0,x.jsx)(c.A6,{})," B\xfct\xfcn kolodalara qay\u0131t"]})})]});const q=y.currentCardIndex/y.cards.length*100;return N?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m,{}),(0,x.jsxs)("div",{className:"animate-fade-in max-w-2xl mx-auto",children:[(0,x.jsx)("div",{className:"mb-4",children:(0,x.jsx)(i.N_,{to:"/decks",children:(0,x.jsxs)(d.A,{variant:"secondary",children:[(0,x.jsx)(c.A6,{})," Kolodalara qay\u0131t"]})})}),(0,x.jsxs)(l.A,{children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,x.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:_.title}),(0,x.jsxs)("span",{className:"text-sm font-semibold text-gray-600",children:[y.currentCardIndex+1," / ",y.cards.length]})]}),(0,x.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,x.jsx)("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"".concat(q,"%")}})})]}),(0,x.jsx)("div",{className:"w-full h-64 rounded-lg flex items-center justify-center p-6 text-center ".concat(k),children:v?(0,x.jsx)("p",{className:"text-xl font-semibold text-gray-800",children:N.back}):(0,x.jsx)("p",{className:"text-xl font-semibold text-gray-800",children:N.front})}),(0,x.jsx)("div",{className:"mt-6",children:v?(0,x.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,x.jsx)(d.A,{onClick:()=>z(0),variant:"danger",children:"Yenid\u0259n"}),(0,x.jsx)(d.A,{onClick:()=>z(2),className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:"\xc7\u0259tin"}),(0,x.jsx)(d.A,{onClick:()=>z(4),className:"bg-green-500 hover:bg-green-600 text-white",children:"Yax\u015f\u0131"}),(0,x.jsx)(d.A,{onClick:()=>z(5),className:"bg-blue-500 hover:bg-blue-600 text-white",children:"Asan"})]}):(0,x.jsx)(d.A,{onClick:()=>{w(!0)},className:"w-full",children:"Cavab\u0131 G\xf6st\u0259r"})})]})]})]}):(0,x.jsx)(l.A,{className:"text-center py-12",children:"Y\xfckl\u0259nir..."})}}}]);
//# sourceMappingURL=645.56374a45.chunk.js.map