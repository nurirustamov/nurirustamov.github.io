{"version":3,"file":"static/js/880.f4e11285.chunk.js","mappings":"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","sources":["pages/PublicCourseListPage.js","components/ui/Card.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport Card from '../components/ui/Card';\nimport { CollectionIcon, SearchIcon } from '../assets/icons';\n\nconst PublicCourseListPage = ({ courses, articleProgress, quizResults, session }) => {\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const coursesWithProgress = useMemo(() => {\n        const lowercasedTerm = searchTerm.toLowerCase();\n\n        const publishedAndFiltered = courses\n            .filter(course => course.is_published)\n            .filter(course =>\n                course.title.toLowerCase().includes(lowercasedTerm) ||\n                (course.description && course.description.toLowerCase().includes(lowercasedTerm))\n            );\n\n        if (!session) {\n            return publishedAndFiltered.map(course => ({ ...course, progress: 0 }));\n        }\n\n        const completedArticleIds = new Set((articleProgress || []).map(p => p.article_id));\n        const completedQuizIds = new Set((quizResults || []).filter(r => r.user_id === session.user.id).map(r => r.quizId));\n\n        return publishedAndFiltered.map(course => {\n            const totalItems = course.course_items?.length || 0;\n            if (totalItems === 0) {\n                return { ...course, progress: 0 };\n            }\n\n            let completedCount = 0;\n            (course.course_items || []).forEach(item => {\n                if (item.article_id && completedArticleIds.has(item.article_id)) {\n                    completedCount++;\n                } else if (item.quiz_id && completedQuizIds.has(item.quiz_id)) {\n                    completedCount++;\n                }\n            });\n\n            const progress = Math.round((completedCount / totalItems) * 100);\n            return { ...course, progress };\n        });\n    }, [courses, articleProgress, quizResults, session, searchTerm]);\n\n    return (\n        <div className=\"animate-fade-in\">\n            <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-800 mb-4\">Kurslar</h1>\n            <div className=\"mb-6\">\n                <Card className=\"!p-4 bg-gray-50 border border-gray-200\">\n                    <div className=\"relative flex-grow w-full\">\n                        <span className=\"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400\"><SearchIcon /></span>\n                        <input\n                            type=\"text\"\n                            placeholder=\"Kurs adına və ya təsvirinə görə axtarış...\"\n                            value={searchTerm}\n                            onChange={e => setSearchTerm(e.target.value)}\n                            className=\"pl-10 pr-4 py-2 border-2 border-gray-200 rounded-lg w-full focus:ring-orange-400 focus:border-orange-400 transition\"\n                        />\n                    </div>\n                </Card>\n            </div>\n            {coursesWithProgress.length > 0 ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {coursesWithProgress.map(course => (\n                        <Link to={`/courses/${course.id}`} key={course.id}>\n                            <Card className=\"hover:shadow-orange-200 hover:-translate-y-1 transition-transform duration-200 h-full flex flex-col\">\n                                <div className=\"flex-grow\">\n                                    <h2 className=\"text-xl font-bold text-gray-800 mb-2\">{course.title}</h2>\n                                    <p className=\"text-sm text-gray-600\">{course.description}</p>\n                                </div>\n                                {session && (\n                                    <div className=\"mt-4\">\n                                        <div className=\"flex justify-between mb-1\">\n                                            <span className=\"text-xs font-medium text-gray-700\">Proqres</span>\n                                            <span className=\"text-xs font-medium text-green-700\">{course.progress}%</span>\n                                        </div>\n                                        <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                                            <div className=\"bg-green-500 h-2 rounded-full\" style={{ width: `${course.progress}%` }}></div>\n                                        </div>\n                                    </div>\n                                )}\n                                <div className=\"text-sm text-gray-500 mt-4 pt-4 border-t border-gray-200 flex justify-between items-center\">\n                                    <span>{course.course_items?.length || 0} dərs</span>\n                                    <span className=\"flex items-center gap-1\"><CollectionIcon className=\"w-4 h-4\" /> Kurs</span>\n                                </div>\n                            </Card>\n                        </Link>\n                    ))}\n                </div>\n            ) : (\n                <Card className=\"text-center py-12\">\n                    <p className=\"text-gray-500\">{searchTerm ? 'Axtarışınıza uyğun heç bir kurs tapılmadı.' : 'Hələ heç bir kurs dərc edilməyib.'}</p>\n                </Card>\n            )}\n        </div>\n    );\n};\n\nexport default PublicCourseListPage;","import React from 'react';\n\nconst Card = ({ children, className = '' }) => (\n    <div className={`bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ${className}`}>{children}</div>\n);\n\nexport default Card;"],"names":["_ref","courses","articleProgress","quizResults","session","searchTerm","setSearchTerm","useState","coursesWithProgress","useMemo","lowercasedTerm","toLowerCase","publishedAndFiltered","filter","course","is_published","title","includes","description","map","_objectSpread","progress","completedArticleIds","Set","p","article_id","completedQuizIds","r","user_id","user","id","quizId","_course$course_items","totalItems","course_items","length","completedCount","forEach","item","has","quiz_id","Math","round","_jsxs","className","children","_jsx","Card","SearchIcon","type","placeholder","value","onChange","e","target","_course$course_items2","Link","to","concat","style","width","CollectionIcon"],"sourceRoot":""}