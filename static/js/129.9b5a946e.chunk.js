"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[129],{693:(e,s,t)=>{t.d(s,{A:()=>o});var r=t(5043),a=t(5475),l=t(8132);var n=t(579);const c=e=>{let{experience:s}=e;const{level:t,xpForNextLevel:a,progressPercentage:l}=(e=>(0,r.useMemo)(()=>{const s=e||0,t=Math.floor(s/100)+1,r=100*t,a=100*(t-1),l=r-a;return{level:t,experience:s,xpForNextLevel:r,progressPercentage:l>0?(s-a)/l*100:0}},[e]))(s);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,n.jsxs)("span",{className:"font-bold text-orange-600",children:["S\u0259viyy\u0259 ",t]}),(0,n.jsxs)("span",{className:"text-sm text-gray-500",children:[s," / ",a," XP"]})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,n.jsx)("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 h-2.5 rounded-full",style:{width:"".concat(l,"%")}})})]})};var i=t(3918);const o=e=>{let{profile:s}=e;if(!s)return null;const t=s.experience_points||0,r=s.daily_streak||0;return(0,n.jsx)(l.A,{children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-center",children:[(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Sizin Proqresiniz"}),(0,n.jsx)(c,{experience:t})]}),(0,n.jsxs)("div",{className:"flex justify-around md:justify-end gap-6 text-center border-t md:border-t-0 md:border-l border-gray-200 pt-4 md:pt-0 md:pl-6",children:[(0,n.jsxs)(a.N_,{to:"/profile",className:"flex flex-col items-center hover:opacity-75 transition-opacity",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 text-2xl font-bold text-yellow-500",children:[(0,n.jsx)(i.Gg,{}),(0,n.jsx)("span",{children:t})]}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:"T\u0259cr\xfcb\u0259 Xal\u0131"})]}),(0,n.jsxs)(a.N_,{to:"/profile",className:"flex flex-col items-center hover:opacity-75 transition-opacity",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 text-2xl font-bold text-red-500",children:[(0,n.jsx)(i.Y3,{}),(0,n.jsx)("span",{children:r})]}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:"G\xfcnl\xfck Seriya"})]})]})]})})}},3129:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var r=t(5043),a=t(3216),l=t(5475),n=t(8132),c=t(4450),i=t(3918);const o=(e,s,t)=>(0,r.useMemo)(()=>{if(!t||!e.length||!s.length)return[];const r=e.filter(e=>e.user_id===t.id&&"completed"===e.status);if(0===r.length)return[];const a=new Map;return r.forEach(e=>{const t=s.find(s=>s.id===e.quizId);t&&t.questions&&e.questionOrder.forEach(s=>{const r=t.questions.find(e=>e.id===s.id);if(!r)return;const l=t.category;if(!l)return;const n=((e,s)=>{if(void 0===s||null===s)return!1;if(!e||!e.type)return!1;switch(e.type){case"single":return s===e.options[e.correctAnswers[0]];case"multiple":const t=e.correctAnswers.map(s=>e.options[s]).sort(),r=Array.isArray(s)?[...s].sort():[];return JSON.stringify(t)===JSON.stringify(r);case"textInput":return s.trim().toLowerCase()===e.correctAnswers[0].trim().toLowerCase();case"trueFalse":return s===e.correctAnswer;case"ordering":return JSON.stringify(s)===JSON.stringify(e.orderItems);default:return!1}})(r,e.userAnswers[r.id]);a.has(l)||a.set(l,{correct:0,total:0});const c=a.get(l);c.total+=1,n&&(c.correct+=1)})}),0===a.size?[]:Array.from(a.entries()).map(e=>{let[s,t]=e;return{name:s,accuracy:t.total>0?Math.round(t.correct/t.total*100):0,totalQuestions:t.total}}).filter(e=>e.totalQuestions>2).sort((e,s)=>e.accuracy-s.accuracy).slice(0,3)},[t,e,s]);var d=t(579);const x=e=>{let{topics:s}=e;return s&&0!==s.length?(0,d.jsxs)(n.A,{children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-4",children:"T\u0259kmill\u0259\u015fdiril\u0259c\u0259k M\xf6vzular"}),(0,d.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,d.jsxs)(l.N_,{to:"/quizzes?category=".concat(encodeURIComponent(e.name)),className:"block p-4 rounded-lg bg-orange-50 hover:bg-orange-100 transition-colors",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(i.r9,{className:"w-6 h-6 text-orange-500"}),(0,d.jsx)("span",{className:"font-semibold text-gray-800",children:e.name})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"font-bold text-lg text-orange-600",children:[e.accuracy,"%"]}),(0,d.jsxs)("p",{className:"text-xs text-gray-500",children:[e.totalQuestions," sualdan"]})]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,d.jsx)("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 h-2 rounded-full",style:{width:"".concat(e.accuracy,"%")}})})]},e.name))})]}):null};var m=t(693);const h=e=>{let{profile:s,activeAssignmentsCount:t,dueFlashcardsCount:r,quizResults:h,quizzes:u}=e;const g=(0,a.Zp)(),j=o(h,u,s);return s?(0,d.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,d.jsxs)("h1",{className:"text-3xl font-bold text-gray-800",children:["Xo\u015f g\u0259lmisiniz, ",s.first_name||s.username,"!"]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsx)(l.N_,{to:"/my-assignments",className:"block",children:(0,d.jsxs)(n.A,{className:"hover:shadow-orange-200 hover:-translate-y-1 transition-transform duration-200 text-center h-full",children:[(0,d.jsx)(i.OD,{className:"w-12 h-12 mx-auto text-orange-500"}),(0,d.jsx)("p",{className:"text-4xl font-bold mt-2",children:t}),(0,d.jsx)("p",{className:"text-gray-600 mt-1",children:"Aktiv Tap\u015f\u0131r\u0131q"})]})}),(0,d.jsx)(l.N_,{to:"/decks",className:"block",children:(0,d.jsxs)(n.A,{className:"hover:shadow-blue-200 hover:-translate-y-1 transition-transform duration-200 text-center h-full",children:[(0,d.jsx)(i.j,{className:"w-12 h-12 mx-auto text-blue-500"}),(0,d.jsx)("p",{className:"text-4xl font-bold mt-2",children:r}),(0,d.jsx)("p",{className:"text-gray-600 mt-1",children:"T\u0259krar \xfc\xe7\xfcn Kart"})]})})]}),(0,d.jsx)(m.A,{profile:s}),(0,d.jsx)(x,{topics:j}),(0,d.jsxs)(n.A,{children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Haradan ba\u015flayaq?"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)(c.A,{onClick:()=>g("/quizzes"),variant:"secondary",className:"h-24 text-lg",children:[(0,d.jsx)(i.Ru,{})," Testl\u0259r"]}),(0,d.jsxs)(c.A,{onClick:()=>g("/articles"),variant:"secondary",className:"h-24 text-lg",children:[(0,d.jsx)(i.AQ,{})," M\u0259qal\u0259l\u0259r"]}),(0,d.jsxs)(c.A,{onClick:()=>g("/courses"),variant:"secondary",className:"h-24 text-lg",children:[(0,d.jsx)(i.cZ,{})," Kurslar"]}),(0,d.jsxs)(c.A,{onClick:()=>g("/paths"),variant:"secondary",className:"h-24 text-lg",children:[(0,d.jsx)(i.GD,{})," T\u0259dris Yollar\u0131"]})]})]})]}):(0,d.jsx)("div",{className:"text-center py-12",children:"Y\xfckl\u0259nir..."})}},8132:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var r=t(579);const a=e=>{let{children:s,className:t=""}=e;return(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(t),children:s})}}}]);
//# sourceMappingURL=129.9b5a946e.chunk.js.map