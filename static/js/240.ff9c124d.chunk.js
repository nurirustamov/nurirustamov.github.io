"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[240],{8132:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var l=t(579);const a=e=>{let{children:s,className:t=""}=e;return(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(t),children:s})}},8240:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var l=t(9379),a=t(5043),i=t(3216),r=t(8132),n=t(4450),c=t(1425),d=t(3918),o=t(579);const m=e=>{let{isOpen:s,onClose:t,courses:l,onAddItems:i,existingItems:r}=e;const[m,x]=(0,a.useState)(new Set),h=(0,a.useMemo)(()=>{const e=new Set(r.map(e=>e.course_id));return l.filter(s=>!e.has(s.id))},[l,r]);return s?(0,o.jsxs)(c.A,{isOpen:s,onClose:t,title:"Kursa \u0259lav\u0259 et",children:[(0,o.jsx)("div",{className:"max-h-72 overflow-y-auto space-y-2 pr-2",children:h.length>0?h.map(e=>(0,o.jsxs)("div",{className:"flex items-center p-2 rounded-md hover:bg-gray-100",children:[(0,o.jsx)("input",{type:"checkbox",id:"course-".concat(e.id),checked:m.has(e.id),onChange:()=>(e=>{const s=new Set(m);s.has(e)?s.delete(e):s.add(e),x(s)})(e.id),className:"h-4 w-4 text-orange-600 rounded mr-3"}),(0,o.jsxs)("label",{htmlFor:"course-".concat(e.id),className:"flex-1 cursor-pointer text-sm font-medium flex items-center",children:[(0,o.jsx)(d.cZ,{className:"mr-2 text-purple-500"}),e.title]})]},e.id)):(0,o.jsx)("p",{className:"text-center text-gray-500 py-10",children:"\u018flav\u0259 edil\u0259c\u0259k kurs yoxdur."})}),(0,o.jsx)("div",{className:"mt-6 flex justify-end",children:(0,o.jsxs)(n.A,{onClick:()=>{const e=h.filter(e=>m.has(e.id));i(e),x(new Set),t()},disabled:0===m.size,children:[(0,o.jsx)(d.c1,{})," Se\xe7ilmi\u015fl\u0259ri \u0259lav\u0259 et (",m.size,")"]})})]}):null},x=e=>{let{path:s,onDraftChange:t,courses:c,onSave:x,showToast:h}=e;const[u,j]=(0,a.useState)(!1),p=(0,i.Zp)(),g=e=>{const{name:s,value:a,type:i,checked:r}=e.target;t(e=>(0,l.A)((0,l.A)({},e),{},{[s]:"checkbox"===i?r:a}))},v=(e,a)=>{const i=[...s.items],[r]=i.splice(e,1);i.splice(e+a,0,r),t(e=>(0,l.A)((0,l.A)({},e),{},{items:i}))};return s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m,{isOpen:u,onClose:()=>j(!1),courses:c,onAddItems:e=>{const s=e.map(e=>({course_id:e.id,courses:{title:e.title}}));t(e=>(0,l.A)((0,l.A)({},e),{},{items:[...e.items,...s]}))},existingItems:s.items}),(0,o.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8 items-start",children:[(0,o.jsxs)("div",{className:"lg:col-span-1 space-y-6 lg:sticky lg:top-24",children:[(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:s.id?"T\u0259dris Yolunu Redakt\u0259 Et":"Yeni T\u0259dris Yolu Yarat"}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,o.jsxs)(n.A,{variant:"secondary",onClick:()=>p("/admin/paths"),className:"w-full justify-center",children:[(0,o.jsx)(d.A6,{})," L\u0259\u011fv et"]}),(0,o.jsxs)(n.A,{onClick:()=>{if(!s.title.trim())return void h("T\u0259dris yolunun ba\u015fl\u0131\u011f\u0131 bo\u015f ola bilm\u0259z.");const e=(0,l.A)((0,l.A)({},s),{},{items:s.items.map((e,s)=>(0,l.A)((0,l.A)({},e),{},{order:s}))});x(e)},className:"w-full justify-center",children:[(0,o.jsx)(d.Sr,{})," Yadda saxla"]})]})]}),(0,o.jsxs)(r.A,{children:[(0,o.jsxs)("h3",{className:"font-bold text-gray-800 mb-3 flex items-center gap-2",children:[(0,o.jsx)(d.AQ,{})," \u018fsas M\u0259lumatlar"]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Yolun Ba\u015fl\u0131\u011f\u0131"}),(0,o.jsx)("input",{type:"text",name:"title",value:s.title,onChange:g,className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\u0259svir"}),(0,o.jsx)("textarea",{name:"description",value:s.description,onChange:g,rows:"4",className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,o.jsx)("div",{children:(0,o.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,o.jsx)("input",{type:"checkbox",name:"is_published",checked:!!s.is_published,onChange:g,className:"h-4 w-4 text-orange-600 rounded border-gray-300"}),(0,o.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"D\u0259rc edilsin"})]})})]})]})]}),(0,o.jsx)("div",{className:"lg:col-span-2",children:(0,o.jsxs)(r.A,{children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,o.jsx)("h3",{className:"font-bold",children:"T\u0259dris Yolunun Proqram\u0131"}),(0,o.jsxs)(n.A,{onClick:()=>j(!0),children:[(0,o.jsx)(d.c1,{})," Kurs \u0259lav\u0259 et"]})]}),(0,o.jsxs)("div",{className:"space-y-2",children:[s.items.map((e,a)=>{var i;return(0,o.jsxs)("div",{className:"p-3 rounded-lg flex items-center justify-between bg-white border",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(d.cZ,{className:"mr-3 text-purple-500"}),(0,o.jsx)("span",{className:"font-medium",children:(null===(i=e.courses)||void 0===i?void 0:i.title)||"Kurs ad\u0131 tap\u0131lmad\u0131"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(n.A,{size:"sm",variant:"ghost",onClick:()=>v(a,-1),disabled:0===a,children:(0,o.jsx)(d.Kp,{})}),(0,o.jsx)(n.A,{size:"sm",variant:"ghost",onClick:()=>v(a,1),disabled:a===s.items.length-1,children:(0,o.jsx)(d.ZL,{})}),(0,o.jsx)(n.A,{size:"sm",variant:"danger",onClick:()=>(e=>{const a=s.items.filter((s,t)=>t!==e);t(e=>(0,l.A)((0,l.A)({},e),{},{items:a}))})(a),children:(0,o.jsx)(d.uc,{})})]})]},"".concat(e.course_id,"-").concat(a))}),0===s.items.length&&(0,o.jsx)("p",{className:"text-center text-gray-500 py-8",children:"T\u0259dris yolunun proqram\u0131 bo\u015fdur."})]})]})})]})]}):(0,o.jsx)("div",{children:"Y\xfckl\u0259nir..."})}}}]);
//# sourceMappingURL=240.ff9c124d.chunk.js.map