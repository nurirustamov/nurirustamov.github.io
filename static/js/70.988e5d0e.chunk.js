"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[70],{3070:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var r=a(5043),t=a(8132),n=a(4450),l=a(1425),o=a(3164),c=a(3918),i=a(579);const d=e=>{let{questionBank:s,onSave:a,onDelete:d,showToast:m}=e;const[x,u]=(0,r.useState)(!1),[g,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(""),[j,b]=(0,r.useState)("all"),v=(0,r.useMemo)(()=>{const e=new Set;return s.forEach(s=>{s.tags&&Array.isArray(s.tags)&&s.tags.forEach(s=>e.add(s))}),["all",...Array.from(e).sort()]},[s]),y=(0,r.useMemo)(()=>s.filter(e=>{const s=e.text.toLowerCase().includes(p.toLowerCase()),a="all"===j||e.tags&&e.tags.includes(j);return s&&a}),[s,p,j]);return(0,i.jsxs)("div",{className:"animate-fade-in space-y-6",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[(0,i.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Suallar Bank\u0131"}),(0,i.jsxs)(n.A,{onClick:()=>{h({text:"",type:"single",options:["",""],correctAnswers:[],correctAnswer:!0,orderItems:["",""],imageUrl:"",explanation:"",points:1,tags:[]}),u(!0)},children:[(0,i.jsx)(c.c1,{})," Yeni Sual Yarat"]})]}),(0,i.jsx)(t.A,{children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,i.jsxs)("div",{className:"relative flex-grow",children:[(0,i.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,i.jsx)(c.WI,{})}),(0,i.jsx)("input",{type:"text",placeholder:"Sual\u0131n m\u0259tnin\u0259 g\xf6r\u0259 axtar\u0131\u015f...",value:p,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-2 border-2 border-gray-200 rounded-lg w-full focus:ring-orange-400 focus:border-orange-400 transition"})]}),(0,i.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,i.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,i.jsx)(c.gq,{})}),(0,i.jsx)("select",{value:j,onChange:e=>b(e.target.value),className:"pl-10 pr-4 py-2 border-2 border-gray-200 rounded-lg w-full bg-white focus:ring-orange-400 focus:border-orange-400 transition appearance-none",children:v.map(e=>(0,i.jsx)("option",{value:e,children:"all"===e?"B\xfct\xfcn Teql\u0259r":e},e))})]})]})}),(0,i.jsx)("div",{className:"space-y-4",children:y.length>0?y.map(e=>(0,i.jsxs)(t.A,{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("p",{className:"font-semibold text-gray-800",children:e.text}),(0,i.jsxs)("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:["N\xf6v: ",e.type," | Bal: ",e.points||1]}),(e.tags||[]).map(e=>(0,i.jsx)("span",{className:"text-xs font-medium bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:e},e))]})]}),(0,i.jsxs)("div",{className:"flex gap-2 self-end sm:self-center",children:[(0,i.jsx)(n.A,{onClick:()=>(e=>{h(e),u(!0)})(e),variant:"secondary",children:(0,i.jsx)(c.qU,{})}),(0,i.jsx)(n.A,{onClick:()=>{return s=e.id,void(window.confirm("Bu sual\u0131 bankdan silm\u0259k ist\u0259diyiniz\u0259 \u0259minsiniz?")&&d(s));var s},variant:"danger",children:(0,i.jsx)(c.uc,{})})]})]},e.id)):(0,i.jsx)(t.A,{className:"text-center py-12",children:(0,i.jsx)("p",{className:"text-gray-500",children:"Filtrl\u0259r\u0259 uy\u011fun sual tap\u0131lmad\u0131."})})}),x&&(0,i.jsxs)(l.A,{isOpen:x,onClose:()=>u(!1),title:null!==g&&void 0!==g&&g.id?"Sual\u0131 Redakt\u0259 Et":"Yeni Sual Yarat",children:[(0,i.jsx)(o.A,{question:g,index:0,onUpdate:h}),(0,i.jsx)("div",{className:"flex justify-end mt-6",children:(0,i.jsx)(n.A,{onClick:()=>{var e;(e=g).text.trim()?(a(e),u(!1),h(null)):m("Sual\u0131n m\u0259tni bo\u015f ola bilm\u0259z!")},children:"Yadda Saxla"})})]})]})}},3164:(e,s,a)=>{a.d(s,{A:()=>m});var r=a(9379),t=a(5043),n=a(4450),l=a(3918),o=a(579);const c=()=>(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i=e=>{let{tags:s=[],onUpdate:a}=e;const[r,n]=(0,t.useState)("");return(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teql\u0259r (Enter v\u0259 ya verg\xfcl il\u0259 \u0259lav\u0259 et)"}),(0,o.jsxs)("div",{className:"flex flex-wrap items-center gap-2 p-2 border border-gray-300 rounded-md bg-white",children:[s.map((e,r)=>(0,o.jsxs)("span",{className:"flex items-center gap-1 bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-1 rounded-full",children:[e,(0,o.jsx)("button",{onClick:()=>{return r=e,void a(s.filter(e=>e!==r));var r},className:"text-orange-600 hover:text-orange-800",children:(0,o.jsx)(c,{className:"h-4 w-4"})})]},r)),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),onKeyDown:e=>{if("Enter"===e.key||","===e.key){e.preventDefault();const t=r.trim();t&&!s.includes(t)&&a([...s,t]),n("")}},placeholder:"Yeni teq \u0259lav\u0259 et...",className:"flex-1 bg-transparent outline-none p-1 text-sm"})]})]})},d=e=>{var s;let{question:a,onUpdate:t}=e;const c=e=>{t((0,r.A)((0,r.A)({},a),{},{correctAnswers:[e.target.value]}))},i=e=>{t((0,r.A)((0,r.A)({},a),{},{correctAnswer:e}))},d=()=>{t((0,r.A)((0,r.A)({},a),{},{options:[...a.options,""]}))},m=()=>{t((0,r.A)((0,r.A)({},a),{},{orderItems:[...a.orderItems||[],""]}))};switch(a.type){case"single":case"multiple":return(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"Cavab variantlar\u0131"}),(0,o.jsx)("div",{className:"space-y-2",children:a.options.map((e,s)=>(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("input",{type:"single"===a.type?"radio":"checkbox",name:"correctAnswer_".concat(a.id),checked:a.correctAnswers.includes(s),onChange:()=>(e=>{if("single"===a.type)t((0,r.A)((0,r.A)({},a),{},{correctAnswers:[e]}));else{const s=a.correctAnswers.includes(e)?a.correctAnswers.filter(s=>s!==e):[...a.correctAnswers,e];t((0,r.A)((0,r.A)({},a),{},{correctAnswers:s}))}})(s),className:"h-5 w-5 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),(0,o.jsx)("input",{type:"text",value:e,onChange:e=>((e,s)=>{const n=[...a.options];n[e]=s,t((0,r.A)((0,r.A)({},a),{},{options:n}))})(s,e.target.value),placeholder:"Variant ".concat(s+1),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"}),(0,o.jsx)("button",{onClick:()=>(e=>{const s=a.options.filter((s,a)=>a!==e),n=a.correctAnswers.filter(s=>s!==e).map(s=>s>e?s-1:s);t((0,r.A)((0,r.A)({},a),{},{options:s,correctAnswers:n}))})(s),className:"text-gray-400 hover:text-red-500 p-1 rounded-full",children:(0,o.jsx)(l.uc,{})})]},s))}),(0,o.jsxs)(n.A,{onClick:d,variant:"secondary",className:"mt-3 text-sm",children:[(0,o.jsx)(l.c1,{})," Variant \u0259lav\u0259 et"]})]});case"textInput":return(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"D\xfczg\xfcn cavab (h\u0259rf registri n\u0259z\u0259r\u0259 al\u0131nm\u0131r)"}),(0,o.jsx)("input",{type:"text",value:a.correctAnswers[0]||"",onChange:c,placeholder:"D\xfczg\xfcn cavab\u0131 daxil edin",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"})]});case"trueFalse":return(0,o.jsxs)("div",{className:"flex items-center gap-4 pt-2",children:[(0,o.jsxs)("label",{className:"flex items-center p-3 rounded-lg hover:bg-gray-100 cursor-pointer border-2 border-transparent has-[:checked]:bg-orange-100 has-[:checked]:border-orange-300",children:[(0,o.jsx)("input",{type:"radio",name:"tf_".concat(a.id),checked:!0===a.correctAnswer,onChange:()=>i(!0),className:"h-4 w-4 text-orange-600"})," ",(0,o.jsx)("span",{className:"ml-2",children:"Do\u011fru"})]}),(0,o.jsxs)("label",{className:"flex items-center p-3 rounded-lg hover:bg-gray-100 cursor-pointer border-2 border-transparent has-[:checked]:bg-orange-100 has-[:checked]:border-orange-300",children:[(0,o.jsx)("input",{type:"radio",name:"tf_".concat(a.id),checked:!1===a.correctAnswer,onChange:()=>i(!1),className:"h-4 w-4 text-orange-600"})," ",(0,o.jsx)("span",{className:"ml-2",children:"Yanl\u0131\u015f"})]})]});case"ordering":return(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"S\u0131ralama \xfc\xe7\xfcn elementl\u0259r (d\xfczg\xfcn ard\u0131c\u0131ll\u0131qla)"}),(0,o.jsx)("div",{className:"space-y-2",children:null===(s=a.orderItems)||void 0===s?void 0:s.map((e,s)=>(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("span",{className:"text-gray-500 font-bold",children:[s+1,"."]}),(0,o.jsx)("input",{type:"text",value:e,onChange:e=>((e,s)=>{const n=[...a.orderItems||[]];n[e]=s,t((0,r.A)((0,r.A)({},a),{},{orderItems:n}))})(s,e.target.value),placeholder:"Element ".concat(s+1),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"}),(0,o.jsx)("button",{onClick:()=>(e=>{const s=a.orderItems.filter((s,a)=>a!==e);t((0,r.A)((0,r.A)({},a),{},{orderItems:s}))})(s),className:"text-gray-400 hover:text-red-500 p-1 rounded-full",children:(0,o.jsx)(l.uc,{})})]},s))}),(0,o.jsxs)(n.A,{onClick:m,variant:"secondary",className:"mt-3 text-sm",children:[(0,o.jsx)(l.c1,{})," Element \u0259lav\u0259 et"]})]});case"open":return(0,o.jsxs)("div",{className:"p-3 bg-blue-50 text-blue-800 rounded-md text-sm flex items-center gap-2",children:[(0,o.jsx)(l.xm,{className:"w-5 h-5"}),(0,o.jsx)("span",{children:"Bu sual\u0131n cavab\u0131 m\xfc\u0259llim t\u0259r\u0259find\u0259n manual olaraq yoxlan\u0131lacaq."})]});default:return null}},m=e=>{let{question:s,index:a,onUpdate:c,onDelete:m,onDuplicate:x,onSaveToBank:u}=e;const[g,h]=(0,t.useState)(s);(0,t.useEffect)(()=>{h(s)},[s]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{JSON.stringify(g)!==JSON.stringify(s)&&c(g)},500);return()=>clearTimeout(e)},[g,c,s]);const p=e=>{const{name:s,value:a,type:t}=e.target,n="number"===t?parseInt(a,10):a;h(e=>(0,r.A)((0,r.A)({},e),{},{[s]:n}))};return(0,o.jsxs)("div",{className:"border border-gray-200 rounded-lg shadow-sm mb-6 bg-white relative",children:[(0,o.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-gray-50/50 rounded-t-lg",children:[(0,o.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,o.jsx)("span",{className:"bg-orange-500 text-white rounded-full h-8 w-8 flex items-center justify-center font-bold text-sm flex-shrink-0",children:a+1}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs font-medium text-gray-500",children:"Sual\u0131n n\xf6v\xfc"}),(0,o.jsxs)("select",{name:"type",value:g.type,onChange:p,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm text-xs p-1",children:[(0,o.jsx)("option",{value:"single",children:"T\u0259k cavab"}),(0,o.jsx)("option",{value:"multiple",children:"Bir ne\xe7\u0259 cavab"}),(0,o.jsx)("option",{value:"textInput",children:"M\u0259tn daxil etm\u0259"}),(0,o.jsx)("option",{value:"trueFalse",children:"Do\u011fru/Yanl\u0131\u015f"}),(0,o.jsx)("option",{value:"ordering",children:"S\u0131ralama"}),(0,o.jsx)("option",{value:"open",children:"A\xe7\u0131q Sual"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs font-medium text-gray-500",children:"Ballar"}),(0,o.jsx)("input",{type:"number",name:"points",value:g.points||1,onChange:p,min:"1",className:"mt-1 block w-20 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm text-xs p-1"})]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(n.A,{onClick:u,variant:"secondary",className:"!p-2",title:"Sual\u0131 banka \u0259lav\u0259 et",children:(0,o.jsx)(l.$n,{})}),(0,o.jsx)(n.A,{onClick:x,variant:"secondary",className:"!p-2",title:"Dublikat et",children:(0,o.jsx)(l.j,{})}),(0,o.jsx)(n.A,{onClick:m,variant:"danger",className:"!p-2",title:"Sual\u0131 sil",children:(0,o.jsx)(l.uc,{})})]})]}),(0,o.jsxs)("div",{className:"p-4 space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sual\u0131n m\u0259tni"}),(0,o.jsx)("textarea",{name:"text",value:g.text,onChange:p,placeholder:"Sual\u0131n\u0131z\u0131 bura daxil edin...",rows:"2",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u015e\u0259kil URL-i (ist\u0259y\u0259 ba\u011fl\u0131)"}),(0,o.jsx)("input",{type:"text",name:"imageUrl",value:g.imageUrl||"",onChange:p,placeholder:"https://example.com/image.png",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"})]}),(0,o.jsx)(i,{tags:g.tags||[],onUpdate:e=>{h(s=>(0,r.A)((0,r.A)({},s),{},{tags:e}))}}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"\u0130zah (ist\u0259y\u0259 ba\u011fl\u0131)"}),(0,o.jsx)("textarea",{name:"explanation",value:g.explanation||"",onChange:p,placeholder:"D\xfczg\xfcn cavab\u0131n izah\u0131n\u0131 bura daxil edin...",rows:"2",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"})]})]}),(0,o.jsx)("div",{className:"p-4 bg-gray-50/50 border-t border-gray-200 rounded-b-lg",children:(0,o.jsx)(d,{question:g,onUpdate:h})})]})}},8132:(e,s,a)=>{a.d(s,{A:()=>t});a(5043);var r=a(579);const t=e=>{let{children:s,className:a=""}=e;return(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(a),children:s})}}}]);
//# sourceMappingURL=70.988e5d0e.chunk.js.map