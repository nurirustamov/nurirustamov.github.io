"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[99],{8099:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var r=t(9379),a=t(5043),l=t(3216),n=t(5475),i=t(1389),d=t(5239),c=t.n(d),o=t(8132),x=t(4450),m=t(3918),u=t(579);const h=()=>(0,u.jsx)("div",{className:"w-32 h-32 rounded-full bg-orange-100 border-4 border-orange-500 flex items-center justify-center text-center text-orange-700",children:(0,u.jsx)("div",{className:"border-2 border-dashed border-orange-600 rounded-full w-28 h-28 flex items-center justify-center",children:(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1.5",children:[(0,u.jsx)("p",{className:"font-bold text-sm",children:"Eduventure"}),(0,u.jsx)(m.Gg,{className:"w-4 h-4 my-2 text-orange-600"}),(0,u.jsx)("p",{className:"font-bold text-sm",children:"With Seda"})]})})}),g=a.forwardRef((e,s)=>{let{studentName:t,courseTitle:r,completionDate:a}=e;return(0,u.jsx)("div",{ref:s,className:"w-[1123px] h-[794px] bg-orange-50/50 text-gray-800 flex flex-col font-sans p-4",children:(0,u.jsxs)("div",{className:"w-full h-full border-2 border-orange-300 p-6 flex flex-col justify-between relative",children:[(0,u.jsx)("div",{className:"absolute top-2 left-2 w-16 h-16 border-t-4 border-l-4 border-orange-500"}),(0,u.jsx)("div",{className:"absolute top-2 right-2 w-16 h-16 border-t-4 border-r-4 border-orange-500"}),(0,u.jsx)("div",{className:"absolute bottom-2 left-2 w-16 h-16 border-b-4 border-l-4 border-orange-500"}),(0,u.jsx)("div",{className:"absolute bottom-2 right-2 w-16 h-16 border-b-4 border-r-4 border-orange-500"}),(0,u.jsxs)("div",{className:"text-center z-10",children:[(0,u.jsx)("p",{className:"text-2xl text-gray-500 tracking-widest",children:"U\u011eURLU TAMAMLAMA"}),(0,u.jsx)("h1",{className:"text-7xl font-bold text-orange-600 font-serif tracking-wide my-2",children:"SERT\u0130F\u0130KATI"}),(0,u.jsx)("p",{className:"text-lg text-gray-600",children:"Bu s\u0259n\u0259d t\u0259sdiq edir ki,"})]}),(0,u.jsxs)("div",{className:"text-center my-8 z-10",children:[(0,u.jsx)("p",{className:"text-6xl font-extrabold text-gray-800 font-serif tracking-wider",children:t}),(0,u.jsx)("div",{className:"w-1/2 h-px bg-orange-300 mx-auto my-6"}),(0,u.jsxs)("p",{className:"text-lg text-gray-600",children:["adl\u0131 t\u0259l\u0259b\u0259 ",(0,u.jsxs)("span",{className:"font-bold text-orange-700",children:['"',r,'"']})," kursunu"]}),(0,u.jsx)("p",{className:"text-2xl font-semibold text-gray-700 mt-2",children:"u\u011furla ba\u015fa vurmu\u015fdur."})]}),(0,u.jsxs)("div",{className:"flex justify-between items-center z-10",children:[(0,u.jsxs)("div",{className:"text-center w-1/3",children:[(0,u.jsx)("p",{className:"font-serif text-xl border-b-2 border-gray-400 pb-1 px-4 inline-block",children:"S\u0259daq\u0259t A\u011fayeva"}),(0,u.jsx)("p",{className:"text-sm mt-1 text-gray-500",children:"T\u0259lim\xe7i"})]}),(0,u.jsx)("div",{className:"w-1/3 flex justify-center",children:(0,u.jsx)(h,{})}),(0,u.jsxs)("div",{className:"text-center w-1/3",children:[(0,u.jsx)("p",{className:"font-serif text-xl border-b-2 border-gray-400 pb-1 px-4 inline-block",children:a}),(0,u.jsx)("p",{className:"text-sm mt-1 text-gray-500",children:"Verilm\u0259 Tarixi"})]})]})]})})}),f=e=>{let{courses:s,onStartQuiz:t,articleProgress:d,quizResults:h,session:f,profile:j}=e;const{courseId:p}=(0,l.g)(),b=(0,l.Zp)(),N=(0,a.useRef)(),[v,y]=(0,a.useState)(!1),w=(0,a.useMemo)(()=>s.find(e=>e.id===Number(p)),[s,p]),k=(0,a.useMemo)(()=>{if(!w||!f)return((null===w||void 0===w?void 0:w.course_items)||[]).sort((e,s)=>e.order-s.order).map(e=>(0,r.A)((0,r.A)({},e),{},{isCompleted:!1}));const e=new Set((d||[]).map(e=>e.article_id)),s=new Set((h||[]).filter(e=>e.user_id===f.user.id).map(e=>e.quizId));return(w.course_items||[]).sort((e,s)=>e.order-s.order).map(t=>{let a=!1;return t.article_id?a=e.has(t.article_id):t.quiz_id&&(a=s.has(t.quiz_id)),(0,r.A)((0,r.A)({},t),{},{isCompleted:a})})},[w,d,h,f]),_=(0,a.useMemo)(()=>{const e=k.length;if(0===e)return{completedCount:0,totalCount:0,percentage:0,nextItem:null};const s=k.filter(e=>e.isCompleted).length;return{completedCount:s,totalCount:e,percentage:e>0?s/e*100:0,nextItem:k.find(e=>!e.isCompleted)}},[k]);return w?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:{position:"fixed",left:"-9999px",top:"-9999px"},children:(0,u.jsx)(g,{ref:N,studentName:"".concat((null===j||void 0===j?void 0:j.first_name)||""," ").concat((null===j||void 0===j?void 0:j.last_name)||""),courseTitle:w.title,completionDate:(new Date).toLocaleDateString("az-AZ")})}),(0,u.jsxs)("div",{className:"animate-fade-in max-w-4xl mx-auto space-y-8",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(n.N_,{to:"/courses",children:(0,u.jsxs)(x.A,{variant:"secondary",className:"mb-4",children:[(0,u.jsx)(m.A6,{})," Kurslar siyah\u0131s\u0131na qay\u0131t"]})}),(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,u.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900 mb-3",children:w.title}),(0,u.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:w.description}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,u.jsx)("span",{className:"font-bold text-orange-600",children:"Kursun proqresi"}),(0,u.jsxs)("span",{className:"text-sm text-gray-500",children:[_.completedCount," / ",_.totalCount," tamamlan\u0131b"]})]}),(0,u.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,u.jsx)("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 h-2.5 rounded-full",style:{width:"".concat(_.percentage,"%")}})})]}),_.nextItem?(0,u.jsxs)(x.A,{onClick:()=>{if(_.nextItem){const{article_id:e,quiz_id:s}=_.nextItem;e?b("/articles/".concat(e)):s&&t(s)}},className:"w-full sm:w-auto",children:[(0,u.jsx)(m.ud,{})," Davam et"]}):_.totalCount>0&&100===_.percentage?(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 text-lg font-semibold text-green-600 bg-green-50 p-3 rounded-md",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)(m.Gg,{}),(0,u.jsx)("span",{children:"T\u0259brikl\u0259r, kursu tamamlad\u0131n\u0131z!"})]}),(0,u.jsxs)(x.A,{onClick:async()=>{if(N.current&&j){y(!0);try{const e=(await c()(N.current,{scale:1,useCORS:!0})).toDataURL("image/png"),s=new i.Ay({orientation:"landscape",unit:"px",format:[1123,794]});s.addImage(e,"PNG",0,0,1123,794),s.save("".concat(j.first_name,"_").concat(j.last_name,"_").concat(w.title,"_sertifikat.pdf"))}catch(e){console.error("Error generating PDF:",e)}finally{y(!1)}}},disabled:v,className:"w-full sm:w-auto",children:[(0,u.jsx)(m.s3,{}),v?"Generasiya olunur...":"Sertifikat\u0131 Y\xfckl\u0259"]})]}):null]})]})]}),(0,u.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Kursun Proqram\u0131"}),(0,u.jsx)("ol",{className:"space-y-4",children:k.map((e,s)=>{var r;let a="Y\xfckl\u0259nir...",l=null,i=null,d=null;return e.articles?(a=e.articles.title,l=(0,u.jsx)(m.AQ,{className:"w-6 h-6 text-blue-500"}),i="/articles/".concat(e.article_id),d=(0,u.jsx)(n.N_,{to:i,children:(0,u.jsx)(x.A,{variant:"secondary",size:"sm",children:"Bax"})})):e.quizzes&&(a=e.quizzes.title,l=(0,u.jsx)(m.oo,{className:"w-6 h-6 text-purple-500"}),d=(0,u.jsxs)(x.A,{size:"sm",onClick:()=>t(e.quiz_id),children:[(0,u.jsx)(m.ud,{})," Ba\u015fla"]})),(0,u.jsxs)("li",{className:"flex items-center gap-4 p-4 rounded-lg border transition-all duration-200 ".concat(e.isCompleted||(null===(r=_.nextItem)||void 0===r?void 0:r.id)!==e.id?"hover:border-gray-300":"border-orange-400 bg-orange-50/50"),children:[(0,u.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ".concat(e.isCompleted?"bg-green-100":"bg-gray-100"),children:e.isCompleted?(0,u.jsx)(m.C1,{className:"w-6 h-6 text-green-500"}):(0,u.jsx)("span",{className:"font-bold text-gray-500",children:s+1})}),(0,u.jsx)("div",{className:"flex-shrink-0",children:l}),(0,u.jsx)("div",{className:"flex-grow",children:(0,u.jsx)("p",{className:"font-semibold text-gray-800",children:a})}),(0,u.jsx)("div",{className:"flex-shrink-0",children:d})]},e.id||"".concat(e.article_id||e.quiz_id,"-").concat(e.order))})}),0===(w.course_items||[]).length&&(0,u.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Kursun proqram\u0131 bo\u015fdur."})]})]})]}):(0,u.jsx)(o.A,{className:"text-center py-12",children:(0,u.jsx)("p",{className:"text-gray-500",children:"Y\xfckl\u0259nir..."})})}},8132:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var r=t(579);const a=e=>{let{children:s,className:t=""}=e;return(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(t),children:s})}}}]);
//# sourceMappingURL=99.2469c91e.chunk.js.map