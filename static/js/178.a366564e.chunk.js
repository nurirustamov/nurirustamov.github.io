"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[178],{8132:(e,r,s)=>{s.d(r,{A:()=>n});s(5043);var t=s(579);const n=e=>{let{children:r,className:s=""}=e;return(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(s),children:r})}},8178:(e,r,s)=>{s.r(r),s.d(r,{default:()=>m});var t=s(9379),n=s(5043),l=s(3216),a=s(8132),i=s(4450),o=s(579);const d=e=>{let{question:r,onAnswer:s}=e;const[t,l]=(0,n.useState)([]),a=(0,n.useRef)(null),i=(0,n.useRef)(null);(0,n.useEffect)(()=>{l([...r.orderItems].sort(()=>Math.random()-.5))},[r]);const d=()=>{const e=[...t],r=e.splice(a.current,1)[0];e.splice(i.current,0,r),a.current=null,i.current=null,l(e),s(e)};return(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Elementl\u0259ri d\xfczg\xfcn ard\u0131c\u0131ll\u0131qla yerl\u0259\u015fdirm\u0259k \xfc\xe7\xfcn s\xfcr\xfc\u015fd\xfcr\xfcn."}),t.map((e,r)=>(0,o.jsx)("div",{draggable:!0,onDragStart:()=>a.current=r,onDragEnter:()=>i.current=r,onDragEnd:d,onDragOver:e=>e.preventDefault(),className:"p-3 mb-2 bg-gray-100 rounded-md cursor-grab active:cursor-grabbing border border-gray-200",children:e},r))]})};var c=s(3918);const u=(e,r)=>{if(void 0===r||null===r)return!1;if("open"===e.type)return!1;switch(e.type){case"single":return r===e.options[e.correctAnswers[0]];case"multiple":const s=e.correctAnswers.map(r=>e.options[r]).sort(),t=r?[...r].sort():[];return JSON.stringify(s)===JSON.stringify(t);case"textInput":return r.trim().toLowerCase()===e.correctAnswers[0].trim().toLowerCase();case"trueFalse":return r===e.correctAnswer;case"ordering":return JSON.stringify(r)===JSON.stringify(e.orderItems);default:return!1}},m=e=>{let{quiz:r,user:s,onSubmit:m,mode:x="exam"}=e;const g=(0,l.Zp)(),[h,b]=(0,n.useState)(()=>{const e={};return(r.questions||[]).forEach(r=>{"textInput"!==r.type&&"open"!==r.type||(e[r.id]="")}),e}),[p,f]=(0,n.useState)(60*(r.timeLimit||10)),[j,w]=(0,n.useState)(0),[v,y]=(0,n.useState)(!1),[N,k]=(0,n.useState)(!1),A="practice"===x,C=(0,n.useMemo)(()=>r.shuffleQuestions?[...r.questions].sort(()=>Math.random()-.5):r.questions,[r]),S=(0,n.useMemo)(()=>{if(!r.shuffleOptions)return{};const e={};return C.forEach(r=>{["single","multiple"].includes(r.type)&&(e[r.id]=[...r.options].sort(()=>Math.random()-.5))}),e},[C,r.shuffleOptions]),q=(0,n.useCallback)(()=>{v||(y(!0),m&&m(h,C))},[v,m,h,C]);(0,n.useEffect)(()=>{if(A)return;if(p<=0)return void q();const e=setInterval(()=>f(e=>e-1),1e3);return()=>clearInterval(e)},[p,A,q]);const z=(e,r)=>{A&&N||b(s=>(0,t.A)((0,t.A)({},s),{},{[e]:r}))},E=C[j];if(!E)return(0,o.jsx)(a.A,{children:(0,o.jsx)("p",{children:"Bu testd\u0259 h\u0259l\u0259lik sual yoxdur."})});const M=(j+1)/C.length*100,O=r.shuffleOptions&&S[E.id]?S[E.id]:E.options,D=(e,r)=>{var s;if(!A||!N)return"border-transparent";let t=!1;if("single"===E.type&&(t=r===E.correctAnswers[0]),"multiple"===E.type&&(t=E.correctAnswers.includes(r)),t)return"border-green-500 bg-green-100";let n=!1;return"single"===E.type&&(n=h[E.id]===e),"multiple"===E.type&&(n=null===(s=h[E.id])||void 0===s?void 0:s.includes(e)),n?"border-red-500 bg-red-100":"border-transparent"};return(0,o.jsx)("div",{className:"animate-fade-in",children:(0,o.jsxs)(a.A,{children:[(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4",children:[(0,o.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-orange-600 text-center sm:text-left",children:r.title}),!A&&(0,o.jsx)("div",{className:"text-2xl font-bold text-orange-500 bg-orange-100 px-4 py-2 rounded-lg w-full sm:w-auto text-center",children:(I=p,"".concat(Math.floor(I/60),":").concat(("0"+I%60).slice(-2)))}),A&&(0,o.jsx)("div",{className:"text-lg font-bold text-blue-500 bg-blue-100 px-4 py-2 rounded-lg w-full sm:w-auto text-center",children:"M\u0259\u015fq Rejimi"})]}),!A&&s&&(0,o.jsxs)("p",{className:"text-center sm:text-left text-gray-600 mb-4",children:["U\u011furlar, ",s.first_name,"!"]}),(0,o.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-6",children:(0,o.jsx)("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 h-2.5 rounded-full transition-all duration-500",style:{width:"".concat(M,"%")}})}),(0,o.jsxs)("div",{className:"bg-orange-50 p-4 sm:p-6 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex justify-between items-start",children:[(0,o.jsxs)("h3",{className:"font-semibold text-lg sm:text-xl text-gray-800 mb-4 flex-1",children:[j+1,". ",E.text]}),(0,o.jsx)("button",{onClick:()=>(e=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const r=new SpeechSynthesisUtterance(e);r.lang="az-AZ",window.speechSynthesis.speak(r)}else alert("Sizin brauzeriniz m\u0259tni s\u0259sl\u0259ndirm\u0259yi d\u0259st\u0259kl\u0259mir.")})(E.text),className:"text-gray-500 hover:text-orange-500 ml-2 sm:ml-4 p-2",children:(0,o.jsx)(c.pD,{})})]}),E.imageUrl&&(0,o.jsx)("img",{src:E.imageUrl,alt:"Question illustration",className:"my-4 rounded-lg max-h-60 w-full object-contain mx-auto",onError:e=>e.target.style.display="none"}),"single"===E.type&&O.map((e,r)=>(0,o.jsx)("div",{className:"mb-2",children:(0,o.jsxs)("label",{className:"block p-3 rounded-lg hover:bg-orange-100 cursor-pointer border-2 ".concat(D(e,r)),children:[(0,o.jsx)("input",{type:"radio",name:E.id,value:e,checked:h[E.id]===e,onChange:e=>z(E.id,e.target.value),className:"mr-3 h-4 w-4 text-orange-600 focus:ring-orange-500",disabled:A&&N||v}),e]})},r)),"multiple"===E.type&&O.map((e,r)=>{var s;return(0,o.jsx)("div",{className:"mb-2",children:(0,o.jsxs)("label",{className:"block p-3 rounded-lg hover:bg-orange-100 cursor-pointer border-2 ".concat(D(e,r)),children:[(0,o.jsx)("input",{type:"checkbox",name:E.id,value:e,checked:null===(s=h[E.id])||void 0===s?void 0:s.includes(e),onChange:e=>{const r=h[E.id]||[],s=e.target.checked?[...r,e.target.value]:r.filter(r=>r!==e.target.value);z(E.id,s)},className:"mr-3 h-4 w-4 text-orange-600 rounded focus:ring-orange-500",disabled:A&&N||v}),e]})},r)}),"textInput"===E.type&&(0,o.jsx)("input",{type:"text",value:h[E.id],onChange:e=>z(E.id,e.target.value),className:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm p-3 ".concat(A&&N?u(E,h[E.id])?"bg-green-100 border-green-500":"bg-red-100 border-red-500":""),placeholder:"Cavab\u0131n\u0131z\u0131 daxil edin...",disabled:A&&N||v}),"trueFalse"===E.type&&(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-2",children:[(0,o.jsxs)("label",{className:"block p-3 rounded-lg hover:bg-orange-100 cursor-pointer flex-1 text-center border-2 ".concat(A&&N&&!0===E.correctAnswer?"border-green-500 bg-green-100":A&&N&&!0===h[E.id]?"border-red-500 bg-red-100":"border-transparent"),children:[(0,o.jsx)("input",{type:"radio",name:E.id,checked:!0===h[E.id],onChange:()=>z(E.id,!0),className:"mr-3 h-4 w-4 text-orange-600 focus:ring-orange-500",disabled:A&&N||v})," Do\u011fru"]}),(0,o.jsxs)("label",{className:"block p-3 rounded-lg hover:bg-orange-100 cursor-pointer flex-1 text-center border-2 ".concat(A&&N&&!1===E.correctAnswer?"border-green-500 bg-green-100":A&&N&&!1===h[E.id]?"border-red-500 bg-red-100":"border-transparent"),children:[(0,o.jsx)("input",{type:"radio",name:E.id,checked:!1===h[E.id],onChange:()=>z(E.id,!1),className:"mr-3 h-4 w-4 text-orange-600 focus:ring-orange-500",disabled:A&&N||v})," Yanl\u0131\u015f"]})]}),"ordering"===E.type&&(0,o.jsx)(d,{question:E,onAnswer:e=>z(E.id,e),disabled:A&&N||v}),"open"===E.type&&(0,o.jsx)("textarea",{value:h[E.id],onChange:e=>z(E.id,e.target.value),className:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm p-3",placeholder:"Cavab\u0131n\u0131z\u0131 bura daxil edin...",rows:"5",disabled:A&&N||v})]},E.id),A&&N&&E.explanation&&(0,o.jsx)("div",{className:"mt-4 p-4 bg-blue-50 border-l-4 border-blue-400",children:(0,o.jsxs)("div",{className:"flex items-start text-sm text-blue-800",children:[(0,o.jsx)("span",{className:"mr-2 mt-1 flex-shrink-0",children:(0,o.jsx)(c.xm,{})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{className:"font-semibold",children:"\u0130zah:"}),(0,o.jsx)("p",{className:"mt-1 whitespace-pre-wrap",children:E.explanation})]})]})}),(0,o.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[!A&&(0,o.jsxs)(i.A,{onClick:()=>w(e=>e-1),disabled:0===j||v,variant:"secondary",className:"w-full sm:w-auto",children:[(0,o.jsx)(c.A6,{})," Geri"]}),(0,o.jsxs)("span",{className:"text-gray-600 font-medium order-first sm:order-none",children:[j+1," / ",C.length]}),A?N?j<C.length-1?(0,o.jsxs)(i.A,{onClick:()=>{k(!1),w(e=>e+1)},className:"w-full sm:w-auto",children:["N\xf6vb\u0259ti ",(0,o.jsx)(c.fl,{})]}):(0,o.jsxs)(i.A,{onClick:()=>g("/"),className:"w-full sm:w-auto",children:[(0,o.jsx)(c.Sr,{})," M\u0259\u015fqi bitir"]}):(0,o.jsx)(i.A,{onClick:()=>{k(!0)},disabled:void 0===h[E.id],className:"w-full sm:w-auto",children:"Yoxla"}):j<C.length-1?(0,o.jsxs)(i.A,{onClick:()=>w(e=>e+1),disabled:v,className:"w-full sm:w-auto",children:["\u0130r\u0259li ",(0,o.jsx)(c.fl,{})]}):(0,o.jsx)(i.A,{onClick:q,disabled:v,className:"w-full sm:w-auto",children:v?"G\xf6nd\u0259rilir...":(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Sr,{})," Bitir"]})})]})]})});var I}}}]);
//# sourceMappingURL=178.a366564e.chunk.js.map