{"version":3,"file":"static/js/419.3c7e8107.chunk.js","mappings":"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","sources":["components/ui/Card.js","pages/StatisticsPage.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst Card = ({ children, className = '' }) => (\r\n    <div className={`bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ${className}`}>{children}</div>\r\n);\r\n\r\nexport default Card;","import React, { useState, useMemo, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport Card from '../components/ui/Card';\nimport Button from '../components/ui/Button';\nimport Modal from '../components/ui/Modal';\nimport { ArrowLeftIcon, DownloadIcon, TrophyIcon, GoldMedalIcon, SilverMedalIcon, BronzeMedalIcon, ClockIcon, CheckCircleIcon as CheckIcon, EyeIcon, ClipboardCheckIcon, ChartBarIcon} from '../assets/icons.js';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title } from 'chart.js';\nimport { Pie, Bar, getElementAtEvent } from 'react-chartjs-2';\n\nChartJS.register(ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title);\n\n// --- Helper Functions ---\nconst formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    if (isNaN(date)) return 'Invalid Date';\n    return date.toLocaleString('az-AZ');\n};\n\nconst formatTotalTime = (timeData) => {\n    if (!timeData || typeof timeData !== 'object') return 'N/A';\n    const totalSeconds = Object.values(timeData).reduce((sum, time) => sum + time, 0);\n    if (totalSeconds < 60) return `${Math.round(totalSeconds)} san.`;\n    return `${Math.floor(totalSeconds / 60)} dəq. ${Math.round(totalSeconds % 60)} san.`;\n};\n\nconst isAnswerCorrect = (question, userAnswer) => {\n    if (userAnswer === undefined || userAnswer === null) return false;\n    if (!question || !question.type) return false;\n\n    switch (question.type) {\n        case 'single': return userAnswer === question.options[question.correctAnswers[0]];\n        case 'multiple':\n            const correctOptions = question.correctAnswers.map(i => question.options[i]).sort();\n            const userOptions = Array.isArray(userAnswer) ? [...userAnswer].sort() : [];\n            return JSON.stringify(correctOptions) === JSON.stringify(userOptions);\n        case 'textInput': return userAnswer.trim().toLowerCase() === question.correctAnswers[0].trim().toLowerCase();\n        case 'trueFalse': return userAnswer === question.correctAnswer;\n        case 'ordering': return JSON.stringify(userAnswer) === JSON.stringify(question.orderItems);\n        default: return false;\n    }\n};\n\n// --- Sub-components ---\nconst StudentListModal = ({ isOpen, onClose, students, title }) => {\n    if (!isOpen) return null;\n    return (\n        <Modal isOpen={isOpen} onClose={onClose} title={title}>\n            <div className=\"max-h-96 overflow-y-auto\">\n                <ul className=\"divide-y divide-gray-200\">\n                    {students.map(student => (\n                        <li key={student.id} className=\"py-3 flex justify-between items-center\">\n                            <Link to={`/student/${student.user_id}`} className=\"text-blue-600 hover:underline\">\n                                {student.userName} {student.userSurname}\n                            </Link>\n                            <span className=\"text-gray-600\">{student.percentage}% ({student.quizTitle})</span>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        </Modal>\n    );\n};\n\nconst QuestionAnalysisModal = ({ isOpen, onClose, question, results, quizzes }) => {\n    const analysis = useMemo(() => {\n        if (!question) return null;\n        const quiz = quizzes.find(q => q.title === question.quizTitle);\n        if (!quiz) return null;\n        const fullQuestion = quiz.questions.find(q => q.text === question.text);\n        if (!fullQuestion) return null;\n\n        // --- Logic for Chart-based questions (single, multiple) ---\n        if (['single', 'multiple'].includes(fullQuestion.type)) {\n            const answerCounts = fullQuestion.options.reduce((acc, option) => ({ ...acc, [option]: 0 }), {});\n            let noAnswerCount = 0;\n\n            results.forEach(result => {\n                if (result.quizId !== quiz.id) return;\n                const userAnswer = result.userAnswers[fullQuestion.id];\n                if (!userAnswer || userAnswer.length === 0) {\n                    noAnswerCount++;\n                } else if (fullQuestion.type === 'multiple') {\n                    userAnswer.forEach(answer => { if (answerCounts[answer] !== undefined) answerCounts[answer]++; });\n                } else {\n                    if (answerCounts[userAnswer] !== undefined) answerCounts[userAnswer]++;\n                }\n            });\n\n            const chartData = {\n                labels: Object.keys(answerCounts),\n                datasets: [{\n                    label: 'Cavabların sayı',\n                    data: Object.values(answerCounts),\n                    backgroundColor: Object.keys(answerCounts).map(option => {\n                        const correctOptions = fullQuestion.correctAnswers.map(i => fullQuestion.options[i]);\n                        return correctOptions.includes(option) ? 'rgba(75, 192, 192, 0.6)' : 'rgba(255, 99, 132, 0.6)';\n                    }),\n                    borderColor: Object.keys(answerCounts).map(option => {\n                         const correctOptions = fullQuestion.correctAnswers.map(i => fullQuestion.options[i]);\n                        return correctOptions.includes(option) ? 'rgba(75, 192, 192, 1)' : 'rgba(255, 99, 132, 1)';\n                    }),\n                    borderWidth: 1,\n                },],\n            };\n            return {\n                type: 'chart',\n                chartData,\n                noAnswerCount,\n                totalAnswers: results.filter(r => r.quizId === quiz.id).length\n            };\n        }\n\n        // --- Logic for Text-based questions (textInput, open) ---\n        if (['textInput', 'open'].includes(fullQuestion.type)) {\n            const answerCounts = new Map();\n            let noAnswerCount = 0;\n\n            results.forEach(result => {\n                if (result.quizId !== quiz.id) return;\n                const userAnswer = result.userAnswers[fullQuestion.id];\n\n                if (!userAnswer || typeof userAnswer !== 'string' || userAnswer.trim() === '') {\n                    noAnswerCount++;\n                } else {\n                    const normalizedAnswer = userAnswer.trim().toLowerCase();\n                    answerCounts.set(normalizedAnswer, (answerCounts.get(normalizedAnswer) || 0) + 1);\n                }\n            });\n\n            const groupedAnswers = Array.from(answerCounts.entries())\n                .map(([answer, count]) => ({ answer, count }))\n                .sort((a, b) => b.count - a.count);\n\n            return {\n                type: 'list',\n                groupedAnswers,\n                noAnswerCount,\n                totalAnswers: results.filter(r => r.quizId === quiz.id).length\n            };\n        }\n\n        return null; // For other question types if any\n\n    }, [question, results, quizzes]);\n\n    if (!isOpen || !analysis) return null;\n\n    return (\n        <Modal isOpen={isOpen} onClose={onClose} title={`Sual Təhlili: ${question.text}`} size=\"lg\">\n            {analysis.type === 'chart' && (\n                <>\n                    <div className=\"w-full h-80\"><Bar data={analysis.chartData} options={{ maintainAspectRatio: false, indexAxis: 'y' }} /></div>\n                    <p className=\"text-center text-sm text-gray-600 mt-4\">Bu suala {analysis.totalAnswers} nəfərdən {analysis.noAnswerCount} nəfər cavab verməyib.</p>\n                </>\n            )}\n            {analysis.type === 'list' && (\n                 <div className=\"space-y-3\">\n                    <h4 className=\"font-semibold text-gray-800\">Tələbə Cavablarının Qruplaşdırılması:</h4>\n                    <div className=\"max-h-80 overflow-y-auto pr-2 border rounded-lg p-3 bg-gray-50\">\n                        {analysis.groupedAnswers.length > 0 ? (\n                            <ul className=\"divide-y divide-gray-200\">\n                                {analysis.groupedAnswers.map(({ answer, count }) => (\n                                    <li key={answer} className=\"py-2 flex justify-between items-center\">\n                                        <span className=\"text-gray-700 break-all mr-4\">{answer}</span>\n                                        <span className=\"font-bold text-orange-600 bg-orange-100 px-2 py-0.5 rounded-full text-sm flex-shrink-0\">{count} cavab</span>\n                                    </li>\n                                ))}\n                            </ul>\n                        ) : (\n                            <p className=\"text-gray-500 text-center py-4\">Bu suala heç bir mətn cavabı verilməyib.</p>\n                        )}\n                    </div>\n                    <p className=\"text-center text-sm text-gray-600 mt-2\">Bu suala {analysis.totalAnswers} nəfərdən {analysis.noAnswerCount} nəfər cavab verməyib.</p>\n                </div>\n            )}\n        </Modal>\n    );\n};\n\nconst PaginatedLeaderboard = ({ leaderboardData }) => {\n    const [currentPage, setCurrentPage] = useState(1);\n    const itemsPerPage = 3;\n    const totalPages = Math.ceil(leaderboardData.length / itemsPerPage);\n\n    const currentLeaderboards = leaderboardData.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);\n\n    if (leaderboardData.length === 0) {\n        return <p className=\"text-gray-500\">Liderlər lövhəsi üçün kifayət qədər data yoxdur.</p>;\n    }\n\n    return (\n        <div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6\">\n                {currentLeaderboards.map(({ quizTitle, topStudents }) => (\n                    <div key={quizTitle} className=\"border rounded-lg p-4 bg-gray-50\">\n                        <h4 className=\"font-semibold text-center mb-3 text-gray-700 truncate\">\n                            <Link to={`/stats/quiz/${topStudents[0].quizId}`} className=\"hover:underline\">{quizTitle}</Link>\n                        </h4>\n                        <ol className=\"space-y-2\">\n                            {topStudents.map((student, index) => (\n                                <li key={student.id} className=\"flex items-center justify-between text-sm p-1 rounded-md hover:bg-gray-100\">\n                                    <span className=\"flex items-center gap-2\">\n                                        {index === 0 ? <GoldMedalIcon /> : index === 1 ? <SilverMedalIcon /> : index === 2 ? <BronzeMedalIcon /> : <TrophyIcon className=\"text-gray-300\" />}\n                                        <Link to={`/student/${student.user_id}`} className=\"hover:underline\">{student.userName} {student.userSurname}</Link>\n                                    </span>\n                                    <span className=\"font-bold text-gray-800\">{student.score} bal</span>\n                                </li>\n                            ))}\n                        </ol>\n                    </div>\n                ))}\n            </div>\n            {totalPages > 1 && (\n                <div className=\"mt-4 flex justify-center items-center gap-4\">\n                    <Button onClick={() => setCurrentPage(p => Math.max(1, p - 1))} disabled={currentPage === 1}>Əvvəlki</Button>\n                    <span className=\"text-sm text-gray-600\">Səhifə {currentPage} / {totalPages}</span>\n                    <Button onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))} disabled={currentPage === totalPages}>Növbəti</Button>\n                </div>\n            )}\n        </div>\n    );\n};\n\nconst AnalyticsOverview = ({ analytics, pieChartData, onPieChartClick, onAnalyzeQuestion, leaderboardData }) => {\n    const chartRef = useRef();\n    const handleChartClick = (event) => {\n        const element = getElementAtEvent(chartRef.current, event);\n        if (element.length > 0) {\n            onPieChartClick(element[0].index);\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <Card className=\"lg:col-span-1\"><h3 className=\"font-bold text-lg mb-4\">Ümumi Göstəricilər</h3><div className=\"space-y-3\"><p><strong>Testi Tamamlayanlar:</strong> {analytics.totalCompletions}</p><p><strong>Unikal Tələbələr:</strong> {analytics.uniqueStudents}</p><p><strong>Orta Nəticə:</strong> {analytics.averageScore.toFixed(1)}%</p></div></Card>\n                <Card className=\"lg:col-span-2\">\n                    <h3 className=\"font-bold text-lg mb-4\">Nəticələrin Paylanması</h3>\n                    <div className=\"h-64 flex items-center justify-center\">\n                        {pieChartData && <Pie data={pieChartData} options={{ responsive: true, maintainAspectRatio: false }} onClick={handleChartClick} ref={chartRef} />}\n                    </div>\n                </Card>\n            </div>\n            <Card>\n                <h3 className=\"font-bold text-lg mb-4 flex items-center gap-2\"><TrophyIcon /> Liderlər Lövhəsi</h3>\n                <PaginatedLeaderboard leaderboardData={leaderboardData} />\n            </Card>\n            <Card><h3 className=\"font-bold text-lg mb-4\">Ən Çətin Suallar</h3><ul className=\"list-inside space-y-2\">{analytics.topDifficultQuestions.length > 0 ? (analytics.topDifficultQuestions.map(([text, data]) => <li key={text}><button onClick={() => onAnalyzeQuestion({ text, quizTitle: data.quizTitle })} className=\"text-left text-blue-600 hover:underline flex items-center gap-2\"><ChartBarIcon /><strong>{text}</strong></button> ({data.quizTitle}) - <span className=\"text-red-600\">{data.count} səhv</span></li>)) : (<p className=\"text-gray-500\">Səhv cavab tapılmadı.</p>)}</ul></Card>\n        </div>\n    );\n};\n\nconst ResultsTable = ({ results, onReviewResult, onSort, sortBy, sortDirection }) => {\n    const [currentPage, setCurrentPage] = useState(1);\n    const resultsPerPage = 10;\n\n    const paginatedResults = useMemo(() => {\n        const startIndex = (currentPage - 1) * resultsPerPage;\n        return results.slice(startIndex, startIndex + resultsPerPage);\n    }, [results, currentPage]);\n\n    const totalPages = Math.ceil(results.length / resultsPerPage);\n\n    const getSortIndicator = (column) => (sortBy === column ? (sortDirection === 'asc' ? ' ▲' : ' ▼') : '');\n\n    return (\n        <Card>\n            <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\"><tr><th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\" onClick={() => onSort('date')}>Tarix {getSortIndicator('date')}</th><th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\" onClick={() => onSort('name')}>Ad Soyad {getSortIndicator('name')}</th><th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\" onClick={() => onSort('quizTitle')}>Test {getSortIndicator('quizTitle')}</th><th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\" onClick={() => onSort('score')}>Nəticə {getSortIndicator('score')}</th><th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Ümumi Vaxt</th><th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th><th scope=\"col\" className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Əməliyyat</th></tr></thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                        {paginatedResults.map((result) => (\n                            <tr key={result.id} className=\"hover:bg-gray-50\">\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">{formatDate(result.created_at)}</td>\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900\"><Link to={`/student/${result.user_id}`} className=\"text-blue-600 hover:underline\">{result.userName} {result.userSurname}</Link></td>\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\"><Link to={`/stats/quiz/${result.quizId}`} className=\"text-blue-600 hover:underline\">{result.quizTitle}</Link></td>\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\"><div className=\"flex flex-col\"><span className=\"font-bold\">{result.score} / {result.totalPoints} bal</span><span className=\"text-xs text-gray-400\">{result.percentage}%</span></div></td>\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">{formatTotalTime(result.time_per_question)}</td>\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm\"><span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${result.status === 'pending_review' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`}>{result.status === 'pending_review' ? <ClockIcon className=\"w-4 h-4 mr-1.5\" /> : <CheckIcon className=\"w-4 h-4 mr-1.5\" />} {result.status === 'pending_review' ? 'Yoxlanılır' : 'Tamamlanıb'}</span></td>\n                                <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium\"><Button onClick={() => onReviewResult(result)} variant={result.status === 'pending_review' ? 'primary' : 'secondary'} size=\"sm\">{result.status === 'pending_review' ? <ClipboardCheckIcon className=\"w-4 h-4\" /> : <EyeIcon className=\"w-4 h-4\" />}<span className=\"ml-1\">{result.status === 'pending_review' ? 'Yoxla' : 'Bax'}</span></Button></td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n            {totalPages > 1 && (\n                <div className=\"py-4 flex items-center justify-between\">\n                    <Button onClick={() => setCurrentPage(p => Math.max(1, p - 1))} disabled={currentPage === 1}>Əvvəlki</Button>\n                    <span className=\"text-sm text-gray-600\">Səhifə {currentPage} / {totalPages}</span>\n                    <Button onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))} disabled={currentPage === totalPages}>Növbəti</Button>\n                </div>\n            )}\n        </Card>\n    );\n};\n\n// --- Main Component ---\nconst StatisticsPage = ({ results, onBack, quizzes, onReviewResult, studentGroups = [] }) => {\n    const [activeTab, setActiveTab] = useState('overview');\n    const [searchTerm, setSearchTerm] = useState('');\n    const [selectedQuizFilter, setSelectedQuizFilter] = useState('all');\n    const [selectedGroupFilter, setSelectedGroupFilter] = useState('all');\n    const [dateRange, setDateRange] = useState({ start: '', end: '' });\n    const [sortBy, setSortBy] = useState('date');\n    const [sortDirection, setSortDirection] = useState('desc');\n    const [analyzingQuestion, setAnalyzingQuestion] = useState(null);\n    const [studentListModal, setStudentListModal] = useState({ isOpen: false, students: [], title: '' });\n\n    const filteredResults = useMemo(() => {\n        let filtered = results;\n\n        if (selectedGroupFilter !== 'all') {\n            const selectedGroup = studentGroups.find(g => g.id === Number(selectedGroupFilter));\n            if (selectedGroup) {\n                const memberIds = new Set((selectedGroup.members || []).map(m => m.user_id));\n                filtered = filtered.filter(r => memberIds.has(r.user_id));\n            }\n        }\n\n        if (searchTerm) {\n            const lowerCaseSearchTerm = searchTerm.toLowerCase();\n            filtered = filtered.filter(r => `${r.userName} ${r.userSurname}`.toLowerCase().includes(lowerCaseSearchTerm) || r.quizTitle.toLowerCase().includes(lowerCaseSearchTerm));\n        }\n        if (selectedQuizFilter !== 'all') {\n            filtered = filtered.filter(r => r.quizTitle === selectedQuizFilter);\n        }\n        if (dateRange.start) {\n            filtered = filtered.filter(r => new Date(r.created_at) >= new Date(dateRange.start));\n        }\n        if (dateRange.end) {\n            filtered = filtered.filter(r => new Date(r.created_at) <= new Date(dateRange.end).setHours(23, 59, 59, 999));\n        }\n        return filtered;\n    }, [results, searchTerm, selectedQuizFilter, dateRange, selectedGroupFilter, studentGroups]);\n\n    const pendingResults = useMemo(() => filteredResults.filter(r => r.status === 'pending_review'), [filteredResults]);\n    const completedResults = useMemo(() => filteredResults.filter(r => r.status !== 'pending_review'), [filteredResults]);\n\n    const sortedPendingResults = useMemo(() => {\n        return [...pendingResults].sort((a, b) => new Date(b.created_at) - new Date(a.created_at));\n    }, [pendingResults]);\n\n    const sortedCompletedResults = useMemo(() => {\n        return [...completedResults].sort((a, b) => {\n            let compareValue = 0;\n            if (sortBy === 'date') compareValue = new Date(a.created_at).getTime() - new Date(b.created_at).getTime();\n            else if (sortBy === 'name') compareValue = `${a.userName} ${a.userSurname}`.localeCompare(`${b.userName} ${b.userSurname}`);\n            else if (sortBy === 'quizTitle') compareValue = a.quizTitle.localeCompare(b.quizTitle);\n            else if (sortBy === 'score') compareValue = a.score - b.score;\n            return sortDirection === 'asc' ? compareValue : -compareValue;\n        });\n    }, [completedResults, sortBy, sortDirection]);\n\n    const analytics = useMemo(() => {\n        const data = completedResults;\n        if (data.length === 0) return null;\n        const totalCompletions = data.length;\n        const uniqueStudents = new Set(data.map(r => `${r.userName} ${r.userSurname}`)).size;\n        const averageScore = data.reduce((acc, r) => acc + r.percentage, 0) / totalCompletions;\n        const scoreDistribution = {\n            perfect: data.filter(r => r.percentage >= 90).length,\n            good: data.filter(r => r.percentage >= 70 && r.percentage < 90).length,\n            medium: data.filter(r => r.percentage >= 50 && r.percentage < 70).length,\n            bad: data.filter(r => r.percentage < 50).length,\n        };\n        const difficultQuestions = {};\n        data.forEach(result => {\n            const quiz = quizzes.find(q => q.id === result.quizId);\n            if (!quiz) return;\n            result.questionOrder.forEach(q => {\n                const originalQuestion = quiz.questions.find(oq => oq.id === q.id);\n                if (originalQuestion && !isAnswerCorrect(originalQuestion, result.userAnswers[originalQuestion.id])) {\n                    if (!difficultQuestions[originalQuestion.text]) difficultQuestions[originalQuestion.text] = { count: 0, quizTitle: quiz.title };\n                    difficultQuestions[originalQuestion.text].count++;\n                }\n            });\n        });\n        const topDifficultQuestions = Object.entries(difficultQuestions).sort(([, a], [, b]) => b.count - a.count).slice(0, 5);\n        return { totalCompletions, uniqueStudents, averageScore, scoreDistribution, topDifficultQuestions };\n    }, [completedResults, quizzes]);\n\n    const leaderboardData = useMemo(() => {\n        const scope = selectedQuizFilter === 'all' ? results.filter(r => r.status !== 'pending_review') : completedResults;\n        const resultsByQuiz = scope.reduce((acc, result) => {\n            acc[result.quizTitle] = acc[result.quizTitle] || [];\n            acc[result.quizTitle].push(result);\n            return acc;\n        }, {});\n        return Object.entries(resultsByQuiz).map(([quizTitle, quizResults]) => {\n            const bestScores = {};\n            quizResults.forEach(result => {\n                const studentIdentifier = `${result.userName} ${result.userSurname}`;\n                if (!bestScores[studentIdentifier] || result.score > bestScores[studentIdentifier].score) {\n                    bestScores[studentIdentifier] = result;\n                }\n            });\n            const topStudents = Object.values(bestScores).sort((a, b) => b.score - a.score || new Date(a.created_at) - new Date(b.created_at)).slice(0, 3);\n            return { quizTitle, topStudents };\n        }).filter(item => item.topStudents.length > 0);\n    }, [completedResults, results, selectedQuizFilter]);\n\n    const pieChartData = useMemo(() => {\n        if (!analytics) return null;\n        return {\n            labels: [`Əla (90-100%)`, `Yaxşı (70-89%)`, `Kafi (50-69%)`, `Qeyri-kafi (<50%)`],\n            datasets: [{\n                data: [analytics.scoreDistribution.perfect, analytics.scoreDistribution.good, analytics.scoreDistribution.medium, analytics.scoreDistribution.bad],\n                backgroundColor: ['#10B981', '#3B82F6', '#F59E0B', '#EF4444'],\n                borderColor: ['#ffffff'],\n                borderWidth: 2,\n            }]\n        };\n    }, [analytics]);\n\n    const handlePieChartClick = (index) => {\n        const data = completedResults;\n        let students = [];\n        let title = '';\n        switch (index) {\n            case 0: title = 'Əla Nəticə Göstərən Tələbələr'; students = data.filter(r => r.percentage >= 90); break;\n            case 1: title = 'Yaxşı Nəticə Göstərən Tələbələr'; students = data.filter(r => r.percentage >= 70 && r.percentage < 90); break;\n            case 2: title = 'Kafi Nəticə Göstərən Tələbələr'; students = data.filter(r => r.percentage >= 50 && r.percentage < 70); break;\n            case 3: title = 'Qeyri-kafi Nəticə Göstərən Tələbələr'; students = data.filter(r => r.percentage < 50); break;\n            default: return;\n        }\n        setStudentListModal({ isOpen: true, students, title });\n    };\n\n    const uniqueQuizTitles = useMemo(() => ['all', ...Array.from(new Set(results.map(r => r.quizTitle))).sort()], [results]);\n\n    const handleSort = (column) => {\n        if (sortBy === column) setSortDirection(prev => prev === 'asc' ? 'desc' : 'asc');\n        else { setSortBy(column); setSortDirection('desc'); }\n    };\n\n    const handleExportCSV = () => {\n        const dataToExport = activeTab === 'pending' ? sortedPendingResults : sortedCompletedResults;\n        const headers = [\"Ad\", \"Soyad\", \"Test Adı\", \"Toplanan Bal\", \"Maksimum Bal\", \"Faiz\", \"Status\", \"Tarix\"];\n        const csvRows = [headers.join(',')];\n        dataToExport.forEach(result => {\n            const row = [`\"${result.userName}\"`, `\"${result.userSurname}\"`, `\"${result.quizTitle}\"`, result.score, result.totalPoints, result.percentage, result.status, formatDate(result.created_at)];\n            csvRows.push(row.join(','));\n        });\n        const csvString = csvRows.join('\\n');\n        const blob = new Blob(['\\uFEFF' + csvString], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        link.href = URL.createObjectURL(blob);\n        link.download = `statistika_${activeTab}_${new Date().toLocaleDateString('az-AZ')}.csv`;\n        link.click();\n    };\n\n    const renderContent = () => {\n        switch (activeTab) {\n            case 'overview':\n                return analytics ? <AnalyticsOverview analytics={analytics} pieChartData={pieChartData} leaderboardData={leaderboardData} onAnalyzeQuestion={setAnalyzingQuestion} onPieChartClick={handlePieChartClick} /> : <Card><p className=\"text-center text-gray-500\">Analitika üçün kifayət qədər data yoxdur.</p></Card>;\n            case 'pending':\n                return <ResultsTable results={sortedPendingResults} onReviewResult={onReviewResult} onSort={handleSort} sortBy={sortBy} sortDirection={sortDirection} />;\n            case 'completed':\n                return <ResultsTable results={sortedCompletedResults} onReviewResult={onReviewResult} onSort={handleSort} sortBy={sortBy} sortDirection={sortDirection} />;\n            default:\n                return null;\n        }\n    }\n\n    return (\n        <div className=\"animate-fade-in\">\n            <div className=\"grid lg:grid-cols-4 gap-8 items-start\">\n\n                {/* --- Left Column: Filters Panel --- */}\n                <div className=\"lg:col-span-1 space-y-6 lg:sticky lg:top-24\">\n                    <div className=\"flex flex-col gap-2\">\n                        <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-800\">Statistika</h1>\n                        <Button onClick={onBack} variant=\"secondary\" className=\"w-full justify-center\"><ArrowLeftIcon /> Geri</Button>\n                    </div>\n                    <Card>\n                        <h3 className=\"font-bold text-gray-800 mb-3\">Filtrlər</h3>\n                        <div className=\"space-y-4\">\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Ada görə axtarış</label>\n                                <input type=\"text\" placeholder=\"Tələbə axtar...\" value={searchTerm} onChange={e => setSearchTerm(e.target.value)} className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500\" />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Qrupa görə filtr</label>\n                                <select value={selectedGroupFilter} onChange={e => setSelectedGroupFilter(e.target.value)} className=\"w-full p-2 border border-gray-300 rounded-md bg-white focus:ring-orange-500 focus:border-orange-500\">\n                                    <option value=\"all\">Bütün Tələbələr</option>\n                                    {studentGroups.map(group => <option key={group.id} value={group.id}>{group.name}</option>)}\n                                </select>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Testə görə filtr</label>\n                                <select value={selectedQuizFilter} onChange={e => setSelectedQuizFilter(e.target.value)} className=\"w-full p-2 border border-gray-300 rounded-md bg-white focus:ring-orange-500 focus:border-orange-500\">\n                                    {uniqueQuizTitles.map(title => <option key={title} value={title}>{title === 'all' ? 'Bütün Testlər' : title}</option>)}\n                                </select>\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Tarix aralığı</label>\n                                <div className=\"grid grid-cols-2 gap-2\">\n                                    <input type=\"date\" value={dateRange.start} onChange={e => setDateRange(prev => ({...prev, start: e.target.value}))} className=\"p-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500\" />\n                                    <input type=\"date\" value={dateRange.end} onChange={e => setDateRange(prev => ({...prev, end: e.target.value}))} className=\"p-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500\" />\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"mt-6 border-t pt-4\">\n                            <Button onClick={handleExportCSV} variant=\"secondary\" className=\"w-full justify-center\" disabled={filteredResults.length === 0}><DownloadIcon /> CSV ixrac et</Button>\n                        </div>\n                    </Card>\n                </div>\n\n                {/* --- Right Column: Main Content --- */}\n                <div className=\"lg:col-span-3 space-y-6\">\n                    <StudentListModal isOpen={studentListModal.isOpen} onClose={() => setStudentListModal({ isOpen: false, students: [], title: '' })} students={studentListModal.students} title={studentListModal.title} />\n                    <QuestionAnalysisModal isOpen={!!analyzingQuestion} onClose={() => setAnalyzingQuestion(null)} question={analyzingQuestion} results={results} quizzes={quizzes} />\n\n                    <div>\n                        <div className=\"border-b border-gray-200\">\n                            <nav className=\"-mb-px flex space-x-6\" aria-label=\"Tabs\">\n                                <button onClick={() => setActiveTab('overview')} className={`${activeTab === 'overview' ? 'border-orange-500 text-orange-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`}>Ümumi Baxış</button>\n                                <button onClick={() => setActiveTab('pending')} className={`${activeTab === 'pending' ? 'border-orange-500 text-orange-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`}>Gözləyən Yoxlamalar ({pendingResults.length})</button>\n                                <button onClick={() => setActiveTab('completed')} className={`${activeTab === 'completed' ? 'border-orange-500 text-orange-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`}>Tamamlanmış Nəticələr ({completedResults.length})</button>\n                            </nav>\n                        </div>\n                        <div className=\"pt-6\">\n                            {renderContent()}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default StatisticsPage;\n"],"names":["_ref","children","className","_jsx","concat","ChartJS","register","ArcElement","Tooltip","Legend","CategoryScale","LinearScale","BarElement","Title","formatDate","dateString","date","Date","isNaN","toLocaleString","formatTotalTime","timeData","totalSeconds","Object","values","reduce","sum","time","Math","round","floor","StudentListModal","isOpen","onClose","students","title","Modal","map","student","_jsxs","Link","to","user_id","userName","userSurname","percentage","quizTitle","id","QuestionAnalysisModal","_ref2","question","results","quizzes","analysis","useMemo","quiz","find","q","fullQuestion","questions","text","includes","type","answerCounts","options","acc","option","_objectSpread","noAnswerCount","forEach","result","quizId","userAnswer","userAnswers","length","answer","undefined","chartData","labels","keys","datasets","label","data","backgroundColor","correctAnswers","i","borderColor","borderWidth","totalAnswers","filter","r","Map","trim","normalizedAnswer","toLowerCase","set","get","groupedAnswers","Array","from","entries","_ref3","count","sort","a","b","size","_Fragment","Bar","maintainAspectRatio","indexAxis","_ref4","PaginatedLeaderboard","_ref5","leaderboardData","currentPage","setCurrentPage","useState","totalPages","ceil","currentLeaderboards","slice","_ref6","topStudents","index","GoldMedalIcon","SilverMedalIcon","BronzeMedalIcon","TrophyIcon","score","Button","onClick","p","max","disabled","min","AnalyticsOverview","_ref7","analytics","pieChartData","onPieChartClick","onAnalyzeQuestion","chartRef","useRef","Card","totalCompletions","uniqueStudents","averageScore","toFixed","Pie","responsive","event","element","getElementAtEvent","current","ref","topDifficultQuestions","_ref8","ChartBarIcon","ResultsTable","_ref9","onReviewResult","onSort","sortBy","sortDirection","paginatedResults","startIndex","getSortIndicator","column","scope","created_at","totalPoints","time_per_question","status","ClockIcon","CheckIcon","variant","ClipboardCheckIcon","EyeIcon","_ref0","onBack","studentGroups","activeTab","setActiveTab","searchTerm","setSearchTerm","selectedQuizFilter","setSelectedQuizFilter","selectedGroupFilter","setSelectedGroupFilter","dateRange","setDateRange","start","end","setSortBy","setSortDirection","analyzingQuestion","setAnalyzingQuestion","studentListModal","setStudentListModal","filteredResults","filtered","selectedGroup","g","Number","memberIds","Set","members","m","has","lowerCaseSearchTerm","setHours","pendingResults","completedResults","sortedPendingResults","sortedCompletedResults","compareValue","getTime","localeCompare","scoreDistribution","perfect","good","medium","bad","difficultQuestions","questionOrder","originalQuestion","oq","isAnswerCorrect","correctOptions","userOptions","isArray","JSON","stringify","correctAnswer","orderItems","_ref1","_ref10","resultsByQuiz","push","_ref11","quizResults","bestScores","studentIdentifier","item","handlePieChartClick","uniqueQuizTitles","handleSort","prev","ArrowLeftIcon","placeholder","value","onChange","e","target","group","name","handleExportCSV","dataToExport","csvRows","join","row","csvString","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","toLocaleDateString","click","DownloadIcon","renderContent"],"sourceRoot":""}