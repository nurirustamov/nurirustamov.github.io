"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[338],{8132:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var n=t(579);const a=e=>{let{children:s,className:t=""}=e;return(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(t),children:s})}},9338:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var n=t(9379),a=t(5043),r=t(3216),l=t(8132),i=t(4450),o=t(3918),c=t(579);const d=e=>{let{results:s,quizzes:t,onUpdateResult:d}=e;const{resultId:u}=(0,r.g)(),m=(0,r.Zp)(),[x,h]=(0,a.useState)(null),[p,f]=(0,a.useState)(null),[j,b]=(0,a.useState)({}),[g,y]=(0,a.useState)(""),[N,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=s.find(e=>e.id===Number(u));if(e){h(e);const s=t.find(s=>s.id===e.quizId);f(s);const n={};e.questionOrder.forEach(s=>{if("open"===s.type){const t=e.userAnswers[s.id];n[s.id]=(null===t||void 0===t?void 0:t.score)||0}}),b(n)}},[u,s,t]);const w=e=>{y(e.target.value)},A=()=>{"sn200924"===g?v(!0):alert("Yanl\u0131\u015f parol")};if(!N)return(0,c.jsxs)(l.A,{className:"text-center",children:[(0,c.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Yoxlama \xfc\xe7\xfcn parol t\u0259l\u0259b olunur"}),(0,c.jsx)("input",{type:"password",value:g,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500"}),(0,c.jsx)(i.A,{onClick:A,className:"mt-4",children:"Daxil ol"})]});if(!x||!p)return(0,c.jsx)(l.A,{className:"text-center",children:(0,c.jsx)("p",{children:"N\u0259tic\u0259 v\u0259 ya test tap\u0131lmad\u0131."})});const q=x.questionOrder.filter(e=>"open"===e.type);return(0,c.jsxs)("div",{className:"animate-fade-in space-y-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Manual Yoxlama"}),(0,c.jsxs)("p",{className:"text-lg text-gray-600",children:[p.title," - ",x.userName," ",x.userSurname]})]}),(0,c.jsxs)(i.A,{onClick:()=>m("/stats"),variant:"secondary",children:[(0,c.jsx)(o.A6,{})," Statistikaya qay\u0131t"]})]}),0===q.length?(0,c.jsx)(l.A,{children:(0,c.jsx)("p",{children:"Bu testd\u0259 yoxlan\u0131lacaq a\xe7\u0131q sual yoxdur."})}):q.map(e=>{const s=x.userAnswers[e.id],t=(null===s||void 0===s?void 0:s.answer)||s;return(0,c.jsxs)(l.A,{children:[(0,c.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:e.text}),(0,c.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Maksimum bal: ",e.points||1]}),(0,c.jsxs)("div",{className:"p-4 bg-gray-100 rounded-md",children:[(0,c.jsx)("p",{className:"font-semibold",children:"T\u0259l\u0259b\u0259nin cavab\u0131:"}),(0,c.jsx)("p",{className:"whitespace-pre-wrap",children:t})]}),(0,c.jsxs)("div",{className:"mt-4",children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Qiym\u0259t (bal)"}),(0,c.jsx)("input",{type:"number",value:j[e.id]||"",onChange:s=>((e,s)=>{const t=p.questions.find(s=>s.id===e).points||1,a=Math.max(0,Math.min(t,Number(s)));b(s=>(0,n.A)((0,n.A)({},s),{},{[e]:a}))})(e.id,s.target.value),max:e.points||1,min:"0",className:"mt-1 w-24 rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"})]})]},e.id)}),(0,c.jsx)("div",{className:"flex justify-end",children:(0,c.jsxs)(i.A,{onClick:()=>{let e=x.score;const s=(0,n.A)({},x.userAnswers);Object.entries(j).forEach(t=>{let[n,a]=t;const r=p.questions.find(e=>e.id===Number(n));if(!r||"open"!==r.type)return;const l=x.userAnswers[n],i=(null===l||void 0===l?void 0:l.score)||0,o="object"===typeof l?l.answer:l;e=e-i+a,s[n]={answer:o,score:a}});const t=x.totalPoints>0?Math.round(e/x.totalPoints*100):0,a=(0,n.A)((0,n.A)({},x),{},{score:e,percentage:t,userAnswers:s,status:"completed"});d(a)},children:[(0,c.jsx)(o.Sr,{})," Yoxlaman\u0131 bitir v\u0259 n\u0259tic\u0259ni yenil\u0259"]})})]})}}}]);
//# sourceMappingURL=338.888cbecc.chunk.js.map