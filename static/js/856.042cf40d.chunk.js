"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[856],{7856:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var l=t(9379),a=t(5043),i=t(5475),r=t(8132),n=t(4450),d=t(3918),c=t(579);const x=e=>{if(!e)return"N/A";const s=new Date(e);return isNaN(s)?"Invalid Date":s.toLocaleString("az-AZ",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},m=e=>{let{quests:s}=e;if(!s||0===s.length)return null;const t=s.filter(e=>"DAILY"===e.quests.type),l=s.filter(e=>"WEEKLY"===e.quests.type),a=e=>{let{title:s,questsOfType:t}=e;return(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:s}),t.length>0?(0,c.jsx)("div",{className:"space-y-3",children:t.map(e=>{const s=e.quests.goal_value>0?e.progress/e.quests.goal_value*100:0,t="completed"===e.status;return(0,c.jsxs)("div",{className:"p-3 rounded-lg ".concat(t?"bg-green-100 border-l-4 border-green-400":"bg-gray-50"),children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-bold text-gray-800",children:e.quests.title}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:e.quests.description})]}),(0,c.jsxs)("div",{className:"text-right flex-shrink-0 ml-4",children:[(0,c.jsxs)("p",{className:"font-bold text-yellow-500 flex items-center gap-1",children:[(0,c.jsx)(d.Gg,{className:"w-4 h-4"})," +",e.quests.reward_xp," XP"]}),t&&(0,c.jsxs)("div",{className:"flex items-center justify-end gap-1 text-xs text-green-600 font-semibold mt-1",children:[(0,c.jsx)(d.C1,{className:"w-4 h-4"}),"Tamamland\u0131!"]})]})]}),!t&&(0,c.jsxs)("div",{className:"mt-2",children:[(0,c.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,c.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Proqres"}),(0,c.jsxs)("span",{className:"text-xs font-medium text-orange-700",children:[e.progress," / ",e.quests.goal_value]})]}),(0,c.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,c.jsx)("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"".concat(s,"%")}})})]})]},e.id)})}):(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Bu d\xf6vr \xfc\xe7\xfcn tap\u015f\u0131r\u0131q yoxdur."})]})};return(0,c.jsxs)(r.A,{children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"M\u0259qs\u0259dl\u0259r v\u0259 Tap\u015f\u0131r\u0131qlar"}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)(a,{title:"G\xfcnl\xfck M\u0259qs\u0259dl\u0259r",questsOfType:t}),(0,c.jsx)(a,{title:"H\u0259ft\u0259lik M\u0259qs\u0259dl\u0259r",questsOfType:l})]})]})},o=e=>{let{assignments:s,quizzes:t,courses:o,quizResults:u,completedCourses:h,onStartQuiz:j,userQuests:p}=e;const g=(0,a.useMemo)(()=>{const e=new Set((u||[]).map(e=>e.quizId)),a=new Set((h||[]).map(e=>e.course_id));return s.map(s=>{let i=null,r=!1;return"quiz"===s.item_type?(i=t.find(e=>e.id===s.item_id),i&&(r=e.has(i.id))):"course"===s.item_type&&(i=o.find(e=>e.id===s.item_id),i&&(r=a.has(i.id))),(0,l.A)((0,l.A)({},s),{},{item:i,isCompleted:r})}).filter(e=>e.item)},[s,t,o,u,h]),f=new Date,N=g.filter(e=>!e.isCompleted),y=g.filter(e=>e.isCompleted),b=e=>{var s;let{assignment:t}=e;const{item:l,item_type:a,due_date:m,isCompleted:o}=t,h=!o&&m&&new Date(m)<f;return(0,c.jsxs)(r.A,{className:"border-l-4 ".concat(o?"border-green-500 bg-green-50/50 opacity-70":h?"border-red-500":"border-gray-200"),children:[(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[(0,c.jsxs)("div",{className:"flex-grow",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:["quiz"===a?(0,c.jsx)(d.AQ,{className:"text-purple-500"}):(0,c.jsx)(d.cZ,{className:"text-blue-500"}),(0,c.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"quiz"===a?"Test":"Kurs"})]}),(0,c.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:l.title})]}),(0,c.jsx)("div",{className:"flex-shrink-0 w-full sm:w-auto",children:o?(0,c.jsxs)("p",{className:"text-sm font-semibold flex items-center gap-2 text-green-600",children:[(0,c.jsx)(d.C1,{}),(0,c.jsx)("span",{children:"Tamamlan\u0131b"})]}):(0,c.jsxs)("p",{className:"text-sm font-semibold flex items-center gap-2 ".concat(h?"text-red-600":"text-gray-600"),children:[(0,c.jsx)(d.O4,{}),(0,c.jsxs)("span",{children:["Son tarix: ",x(m)||"Yoxdur"]})]})})]}),(0,c.jsx)("div",{className:"mt-4 flex justify-end",children:o?(0,c.jsx)(i.N_,{to:"quiz"===a?"/review/".concat(null===(s=u.find(e=>e.quizId===l.id))||void 0===s?void 0:s.id):"/courses/".concat(l.id),children:(0,c.jsxs)(n.A,{variant:"secondary",size:"sm",children:[(0,c.jsx)(d.bM,{})," N\u0259tic\u0259y\u0259 bax"]})}):"quiz"===a?(0,c.jsxs)(n.A,{onClick:()=>j(l.id),children:[(0,c.jsx)(d.ud,{})," Ba\u015fla"]}):(0,c.jsx)(i.N_,{to:"/courses/".concat(l.id),children:(0,c.jsxs)(n.A,{children:[(0,c.jsx)(d.ud,{})," Ba\u015fla"]})})})]})};return(0,c.jsxs)("div",{className:"animate-fade-in space-y-8",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-4",children:"Tap\u015f\u0131r\u0131qlar\u0131m"}),(0,c.jsx)(m,{quests:p})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"M\xfc\u0259llim T\u0259r\u0259find\u0259n Veril\u0259n Tap\u015f\u0131r\u0131qlar"}),N.length>0?(0,c.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,c.jsx)(b,{assignment:e},e.id))}):(0,c.jsx)(r.A,{className:"text-center py-12",children:(0,c.jsx)("p",{className:"text-gray-500",children:"Aktiv tap\u015f\u0131r\u0131\u011f\u0131n\u0131z yoxdur. Af\u0259rin!"})})]}),y.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Tamamlanm\u0131\u015f Tap\u015f\u0131r\u0131qlar"}),(0,c.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,c.jsx)(b,{assignment:e},e.id))})]})]})}},8132:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var l=t(579);const a=e=>{let{children:s,className:t=""}=e;return(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(t),children:s})}}}]);
//# sourceMappingURL=856.042cf40d.chunk.js.map