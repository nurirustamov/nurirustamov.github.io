{"version":3,"file":"static/js/697.bd7afe13.chunk.js","mappings":"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","sources":["pages/PublicArticleListPage.js","components/ui/Card.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport Card from '../components/ui/Card';\nimport { DocumentTextIcon, CheckCircleIcon, TagIcon, SearchIcon, BookmarkIcon, LockClosedIcon } from '../assets/icons';\nimport { useHasAccess } from '../hooks/useHasAccess';\n\nconst PublicArticleListPage = ({ articles, articleProgress, onNavigate, toggleBookmark, isBookmarked, profile }) => {\n    const [selectedCategory, setSelectedCategory] = useState('all');\n    const [searchTerm, setSearchTerm] = useState('');\n    const completedArticleIds = new Set(articleProgress.map(p => p.article_id));\n\n    const categories = useMemo(() => {\n        return ['all', ...new Set(articles.filter(a => a.is_published).map(a => a.category).filter(Boolean))];\n    }, [articles]);\n\n    const filteredArticles = useMemo(() => {\n        const lowercasedTerm = searchTerm.toLowerCase();\n        return articles\n            .filter(a => a.is_published) // Only show published articles\n            .filter(a => {\n                if (selectedCategory === 'all') {\n                    return a.title.toLowerCase().includes(lowercasedTerm);\n                }\n                return a.category === selectedCategory && a.title.toLowerCase().includes(lowercasedTerm);\n            });\n    }, [articles, selectedCategory, searchTerm]);\n\n    const ArticleCard = ({ article }) => {\n        const hasAccess = useHasAccess(article, profile);\n        const isCompleted = completedArticleIds.has(article.id);\n        const isSaved = isBookmarked(article.id, 'article');\n        const isClickable = hasAccess;\n\n        return (\n            <div\n                key={article.id}\n                onClick={() => isClickable && onNavigate(article, 'article')}\n                className={`relative group transition-transform duration-200 ${isClickable ? 'cursor-pointer hover:-translate-y-1' : 'cursor-not-allowed'}`}\n            >\n                <div className=\"absolute top-3 right-3 flex items-center gap-2 z-10\">\n                    {!hasAccess && (\n                        <div className=\"text-gray-400\" title=\"Məhdud giriş\">\n                            <LockClosedIcon className=\"w-5 h-5\" />\n                        </div>\n                    )}\n                    <button\n                        onClick={(e) => { e.stopPropagation(); toggleBookmark(article.id, 'article'); }}\n                        className=\"p-1 rounded-full hover:bg-orange-100 text-orange-500\"\n                        title={isSaved ? \"Əlfəcini sil\" : \"Əlfəcinlərə əlavə et\"}\n                    >\n                        <BookmarkIcon filled={isSaved} />\n                    </button>\n                </div>\n                <Card className={`group-hover:shadow-orange-200 transition-shadow duration-200 h-full flex flex-col ${!hasAccess ? 'bg-gray-100' : (isCompleted ? 'bg-green-50' : '')}`}>\n                    <div className=\"flex-grow\">\n                        <div className=\"flex justify-between items-start\">\n                            <h2 className=\"text-xl font-bold text-gray-800 mb-2 pr-12\">{article.title}</h2>\n                            {hasAccess && isCompleted && <CheckCircleIcon className=\"w-6 h-6 text-green-500\" title=\"Oxunub\" />}\n                        </div>\n                    </div>\n                    <div className=\"text-sm text-gray-500 mt-4 pt-4 border-t border-gray-200 flex justify-between items-center\">\n                        <span className=\"font-semibold text-orange-600 bg-orange-100 px-2 py-1 rounded-full text-xs flex items-center gap-1\">\n                            <TagIcon className=\"w-4 h-4\" />\n                            {article.category || 'Kateqoriyasız'}\n                        </span>\n                        <span className=\"flex items-center gap-1\"><DocumentTextIcon className=\"w-4 h-4\" /> Məqalə</span>\n                    </div>\n                </Card>\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"animate-fade-in\">\n            <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-800 mb-4\">Tədris Modulları</h1>\n            <div className=\"mb-6\">\n                <Card className=\"!p-4 bg-gray-50 border border-gray-200\">\n                    <div className=\"flex flex-col md:flex-row justify-between items-center gap-4\">\n                        <div className=\"relative flex-grow w-full\">\n                            <span className=\"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400\"><SearchIcon /></span>\n                            <input type=\"text\" placeholder=\"Modul adına görə axtarış...\" value={searchTerm} onChange={e => setSearchTerm(e.target.value)} className=\"pl-10 pr-4 py-2 border-2 border-gray-200 rounded-lg w-full focus:ring-orange-400 focus:border-orange-400 transition\" />\n                        </div>\n                        <select\n                            value={selectedCategory}\n                            onChange={e => setSelectedCategory(e.target.value)}\n                            className=\"py-2 px-4 border-2 border-gray-200 rounded-lg bg-white w-full md:w-auto\"\n                        >\n                            {categories.map(cat => (\n                                <option key={cat} value={cat}>{cat === 'all' ? 'Bütün Kateqoriyalar' : cat}</option>\n                            ))}\n                        </select>\n                    </div>\n                </Card>\n            </div>\n            {filteredArticles.length > 0 ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {filteredArticles.map(article => <ArticleCard key={article.id} article={article} />)}\n                </div>\n            ) : (\n                <Card className=\"text-center py-12\">\n                    <p className=\"text-gray-500\">Axtarışınıza uyğun heç bir modul tapılmadı.</p>\n                </Card>\n            )}\n        </div>\n    );\n};\n\nexport default PublicArticleListPage;","import React from 'react';\n\nconst Card = ({ children, className = '' }) => (\n    <div className={`bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ${className}`}>{children}</div>\n);\n\nexport default Card;"],"names":["_ref","articles","articleProgress","onNavigate","toggleBookmark","isBookmarked","profile","selectedCategory","setSelectedCategory","useState","searchTerm","setSearchTerm","completedArticleIds","Set","map","p","article_id","categories","useMemo","filter","a","is_published","category","Boolean","filteredArticles","lowercasedTerm","toLowerCase","title","includes","ArticleCard","_ref2","article","hasAccess","useHasAccess","isCompleted","has","id","isSaved","isClickable","_jsxs","onClick","className","concat","children","_jsx","LockClosedIcon","e","stopPropagation","BookmarkIcon","filled","Card","CheckCircleIcon","TagIcon","DocumentTextIcon","SearchIcon","type","placeholder","value","onChange","target","cat","length"],"sourceRoot":""}