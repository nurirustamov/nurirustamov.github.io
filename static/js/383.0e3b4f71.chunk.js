"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[383],{7383:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var a=t(5043),s=t(8132),l=t(3918),n=t(579);const o=e=>{let{users:r,title:t,currentUserId:a,valueKey:o,valueLabel:i}=e;return(0,n.jsxs)(s.A,{children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-center mb-4 text-orange-600",children:t}),r.length>0?(0,n.jsx)("ol",{className:"space-y-3",children:r.map((e,r)=>(0,n.jsxs)("li",{className:"flex items-center justify-between p-3 rounded-lg transition ".concat(e.user_id===a?"bg-orange-100 border-2 border-orange-300":"bg-gray-50 hover:bg-gray-100"),children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("span",{className:"text-lg font-bold text-gray-400 w-6 text-center",children:r+1}),(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[0===r?(0,n.jsx)(l.b8,{}):1===r?(0,n.jsx)(l.SZ,{}):2===r?(0,n.jsx)(l.BC,{}):(0,n.jsx)(l.OR,{className:"w-5 h-5 text-gray-400"}),(0,n.jsxs)("span",{className:"font-semibold ".concat(e.user_id===a?"text-orange-700 font-bold":"text-gray-800"),children:[e.userName," ",e.userSurname," ",e.user_id===a&&"(Siz)"]})]})]}),(0,n.jsxs)("span",{className:"font-bold text-lg text-orange-500",children:[e[o]," ",i]})]},e.user_id))}):(0,n.jsx)("p",{className:"text-center text-gray-500 py-8",children:"Bu reytinq \xfc\xe7\xfcn kifay\u0259t q\u0259d\u0259r data yoxdur."})]})},i=e=>{let{results:r,profile:t,allUsers:s}=e;const[i,c]=(0,a.useState)("weekly"),d=null===t||void 0===t?void 0:t.id,u=(0,a.useMemo)(()=>{const e=e=>{const r=e.reduce((e,r)=>{if(!r.user_id)return e;const t=r.user_id;return e[t]||(e[t]={user_id:r.user_id,totalScore:0,userName:r.userName,userSurname:r.userSurname}),e[t].totalScore+=r.score,e},{});return Object.values(r).sort((e,r)=>r.totalScore-e.totalScore).slice(0,10)},t=new Date;t.setDate(t.getDate()-7);return{weekly:e(r.filter(e=>new Date(e.created_at)>t)),overall:e(r)}},[r]),x=(0,a.useMemo)(()=>s?s.filter(e=>e.daily_streak>0).sort((e,r)=>r.daily_streak-e.daily_streak).slice(0,10).map(e=>({user_id:e.id,userName:e.first_name,userSurname:e.last_name,streak:e.daily_streak})):[],[s]);return(0,n.jsxs)("div",{className:"animate-fade-in space-y-6",children:[(0,n.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Reytinql\u0259r"}),(0,n.jsx)("div",{className:"border-b border-gray-200",children:(0,n.jsxs)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[(0,n.jsx)("button",{onClick:()=>c("weekly"),className:"".concat("weekly"===i?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"),children:"H\u0259ft\u0259lik Reytinq"}),(0,n.jsx)("button",{onClick:()=>c("overall"),className:"".concat("overall"===i?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"),children:"\xdcmumi Reytinq"}),(0,n.jsxs)("button",{onClick:()=>c("streak"),className:"".concat("streak"===i?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2"),children:[(0,n.jsx)(l.Y3,{})," G\xfcnl\xfck Seriya"]})]})}),"weekly"===i&&(0,n.jsx)(o,{users:u.weekly,title:"H\u0259ft\u0259nin Liderl\u0259ri",currentUserId:d,valueKey:"totalScore",valueLabel:"bal"}),"overall"===i&&(0,n.jsx)(o,{users:u.overall,title:"B\xfct\xfcn Zamanlar\u0131n Liderl\u0259ri",currentUserId:d,valueKey:"totalScore",valueLabel:"bal"}),"streak"===i&&(0,n.jsx)(o,{users:x,title:"\u018fn Uzun G\xfcnl\xfck Seriya",currentUserId:d,valueKey:"streak",valueLabel:"g\xfcn"})]})}},8132:(e,r,t)=>{t.d(r,{A:()=>s});t(5043);var a=t(579);const s=e=>{let{children:r,className:t=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(t),children:r})}}}]);
//# sourceMappingURL=383.0e3b4f71.chunk.js.map