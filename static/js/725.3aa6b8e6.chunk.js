"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[725],{4725:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(5043),l=s(5475),i=s(8132),r=s(4450),n=s(4156),o=s(3918),c=s(579);const d=e=>e?new Date(e).toLocaleString("az-AZ",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):null,x=e=>{let{quiz:t,onStartQuiz:s,onCloneQuiz:l,onEditQuiz:x,onArchiveRequest:u,onDeleteRequest:m,profile:h,onToggleStatus:p,onAssignRequest:g,toggleBookmark:b,isBookmarked:f,onSetVisibilityRequest:v}=e;const[y,j]=(0,a.useState)(!1),w=(0,a.useRef)(null),N=(0,n.c)(t,h),k="admin"===(null===h||void 0===h?void 0:h.role);(0,a.useEffect)(()=>{const e=e=>{w.current&&!w.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[w]);const A=t.questions||[],q=(e=>{const t=new Date,s=e.start_time?new Date(e.start_time):null,a=e.end_time?new Date(e.end_time):null;return s&&t<s?{text:" ba\u015flay\u0131r ".concat(d(s)),color:"blue",active:!1}:a&&t>a?{text:"Bitib",color:"red",active:!1}:s&&a?{text:" bitir ".concat(d(a)),color:"green",active:!0}:{text:"Aktiv",color:"green",active:!0}})(t),C=f(t.id,"quiz"),z=t.is_published&&N;return(0,c.jsx)("div",{className:"relative group transition-transform duration-200 hover:-translate-y-1",children:(0,c.jsxs)(i.A,{className:"flex flex-col group-hover:shadow-orange-200 transition-shadow duration-200 ".concat(t.isArchived||!z?"bg-gray-100":""),children:[(0,c.jsxs)("div",{className:"flex-grow flex flex-col min-h-[200px]",children:[(0,c.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-800 flex-1 pr-2",children:t.title}),(0,c.jsx)("button",{onClick:e=>{e.stopPropagation(),b(t.id,"quiz")},className:"p-1 rounded-full hover:bg-orange-100 text-orange-500 flex-shrink-0",title:C?"\u018flf\u0259cini sil":"\u018flf\u0259cinl\u0259r\u0259 \u0259lav\u0259 et",children:(0,c.jsx)(o.cF,{filled:C})})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[t.isArchived?(0,c.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-600 bg-gray-200 px-2 py-1 rounded-full whitespace-nowrap",children:"ARX\u0130VD\u018f"}):(0,c.jsxs)(c.Fragment,{children:[!z&&(0,c.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-yellow-800 bg-yellow-200 px-2 py-1 rounded-full whitespace-nowrap",children:"restricted"===t.visibility?"M\u0259hdud":"Qaralama"}),(0,c.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-orange-600 bg-orange-100 px-2 py-1 rounded-full whitespace-nowrap",children:t.category||"Kateqoriyas\u0131z"})]}),k&&(0,c.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider px-2 py-1 rounded-full whitespace-nowrap ".concat("public"===t.visibility?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:"public"===t.visibility?"A\xe7\u0131q":"M\u0259hdud"})]}),(0,c.jsx)("p",{className:"text-gray-600 mb-4 h-12 overflow-hidden text-sm",children:t.description}),(0,c.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-500 mt-auto mb-4",children:[(0,c.jsxs)("span",{children:[A.length," sual"]}),(0,c.jsxs)("div",{className:"flex items-center gap-3 flex-wrap justify-end",children:[t.passcode&&(0,c.jsx)("span",{className:"flex items-center gap-1 font-medium text-gray-600",title:"Giri\u015f kodu t\u0259l\u0259b olunur",children:(0,c.jsx)(o.JD,{className:"h-4 w-4"})}),t.attempt_limit>0&&(0,c.jsxs)("span",{className:"flex items-center gap-1 font-medium text-purple-600",title:"Maksimum ".concat(t.attempt_limit," c\u0259hd"),children:[(0,c.jsx)(o.fN,{className:"h-4 w-4"}),t.attempt_limit," c\u0259hd"]}),(0,c.jsxs)("span",{className:"flex items-center gap-1 font-medium text-".concat(q.color,"-600"),children:[(0,c.jsx)(o.O4,{className:"h-4 w-4"}),q.text]})]})]})]}),(0,c.jsxs)("div",{className:"flex items-stretch gap-2",children:[(0,c.jsxs)(r.A,{onClick:()=>s(t.id),className:"flex-1",disabled:0===A.length||t.isArchived||!q.active||!z,children:[(0,c.jsx)(o.ud,{})," ",(0,c.jsx)("span",{className:"hidden sm:inline ml-1",children:"Ba\u015fla"})]}),k&&(0,c.jsxs)("div",{className:"relative",ref:w,children:[(0,c.jsx)(r.A,{onClick:()=>j(!y),variant:"secondary",className:"h-full",children:(0,c.jsx)(o.Mg,{})}),y&&(0,c.jsxs)("div",{className:"absolute right-0 bottom-full mb-2 w-52 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:[(0,c.jsxs)("button",{onClick:()=>{v(t.id,t.title,"quiz",t.visibility),j(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,c.jsx)(o.JD,{})," ",(0,c.jsx)("span",{className:"ml-2",children:"Giri\u015fi t\u0259nziml\u0259"})]}),(0,c.jsxs)("button",{onClick:()=>{g(t.id,t.title,"quiz"),j(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,c.jsx)(o.OD,{})," ",(0,c.jsx)("span",{className:"ml-2",children:"T\u0259yin et"})]}),(0,c.jsxs)("button",{onClick:()=>{p(t.id,!t.is_published),j(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[t.is_published?(0,c.jsx)(o.aR,{}):(0,c.jsx)(o.bM,{}),(0,c.jsx)("span",{className:"ml-2",children:t.is_published?"Qaralamaya sal":"D\u0259rc et"})]}),(0,c.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,c.jsxs)("button",{onClick:()=>{l(t.id),j(!1)},disabled:t.isArchived,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center disabled:opacity-50",children:[(0,c.jsx)(o.j,{})," ",(0,c.jsx)("span",{className:"ml-2",children:"Kopyala"})]}),(0,c.jsxs)("button",{onClick:()=>{x(t.id),j(!1)},disabled:t.isArchived,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center disabled:opacity-50",children:[(0,c.jsx)(o.qU,{})," ",(0,c.jsx)("span",{className:"ml-2",children:"Redakt\u0259 et"})]}),(0,c.jsxs)("button",{onClick:()=>{u(t.id,!t.isArchived),j(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,c.jsx)(o.kb,{})," ",(0,c.jsx)("span",{className:"ml-2",children:t.isArchived?"Arxivd\u0259n \xe7\u0131xar":"Arxiv\u0259 sal"})]}),(0,c.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,c.jsxs)("button",{onClick:()=>{m(t.id),j(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center",children:[(0,c.jsx)(o.uc,{})," ",(0,c.jsx)("span",{className:"ml-2",children:"Sil"})]})]})]})]})]})})},u=e=>{let{quizzes:t,onStartQuiz:s,onAddNewQuiz:n,onEditQuiz:d,onDeleteRequest:u,onCloneQuiz:m,onArchiveRequest:h,onStartSmartPractice:p,profile:g,onToggleStatus:b,onAssignRequest:f,toggleBookmark:v,isBookmarked:y,onSetVisibilityRequest:j}=e;const w="admin"===(null===g||void 0===g?void 0:g.role),[N,k]=(0,a.useState)(""),[A,q]=(0,a.useState)("date_desc"),[C,z]=(0,a.useState)("published"),[_]=(0,l.ok)(),S=_.get("category"),[R,D]=(0,a.useState)(S||"all"),Q=(0,a.useMemo)(()=>{const e=t.filter(e=>!e.isArchived);return["all",...new Set(e.map(e=>e.category||"Kateqoriyas\u0131z"))]},[t]);(0,a.useEffect)(()=>{D(S||"all")},[S]);const B=(0,a.useMemo)(()=>{const e=N.toLowerCase();return t.filter(t=>{if(w){if("published"===C&&(t.isArchived||!t.is_published))return!1;if("drafts"===C&&(t.isArchived||t.is_published))return!1;if("archived"===C&&!t.isArchived)return!1}else if(!t.is_published||t.isArchived)return!1;return("all"===R||(t.category||"Kateqoriyas\u0131z")===R)&&!!(!e||t.title.toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e))}).sort((e,t)=>{switch(A){case"title_asc":return e.title.localeCompare(t.title);case"title_desc":return t.title.localeCompare(e.title);case"questions_asc":return(e.questions||[]).length-(t.questions||[]).length;case"questions_desc":return(t.questions||[]).length-(e.questions||[]).length;case"date_asc":return e.id-t.id;default:return t.id-e.id}})},[t,N,A,R,C,w]),E=()=>(0,c.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,c.jsxs)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[(0,c.jsx)("button",{onClick:()=>z("published"),className:"".concat("published"===C?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"),children:"D\u0259rc Edilmi\u015f"}),(0,c.jsx)("button",{onClick:()=>z("drafts"),className:"".concat("drafts"===C?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"),children:"Qaralamalar"}),(0,c.jsx)("button",{onClick:()=>z("archived"),className:"".concat("archived"===C?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"),children:"Arxiv"})]})});return(0,c.jsxs)("div",{className:"animate-fade-in",children:[(0,c.jsx)(i.A,{className:"mb-6 !p-4 bg-gray-50 border border-gray-200",children:(0,c.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,c.jsxs)("div",{className:"relative flex-grow w-full",children:[(0,c.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,c.jsx)(o.WI,{})}),(0,c.jsx)("input",{type:"text",placeholder:"Ad\u0131na v\u0259 ya t\u0259svirin\u0259 g\xf6r\u0259 axtar\u0131\u015f...",value:N,onChange:e=>k(e.target.value),className:"pl-10 pr-4 py-2 border-2 border-gray-200 rounded-lg w-full focus:ring-orange-400 focus:border-orange-400 transition"})]}),(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-2 w-full md:w-auto",children:["archived"!==C&&(0,c.jsx)("select",{value:R,onChange:e=>D(e.target.value),className:"py-2 px-4 border-2 border-gray-200 rounded-lg bg-white w-full sm:w-auto",children:Q.map(e=>(0,c.jsx)("option",{value:e,children:"all"===e?"B\xfct\xfcn kateqoriyalar":e},e))}),(0,c.jsxs)("select",{value:A,onChange:e=>q(e.target.value),className:"py-2 px-4 border-2 border-gray-200 rounded-lg bg-white w-full sm:w-auto",children:[(0,c.jsx)("option",{value:"date_desc",children:"\u018fn yenil\u0259r"}),(0,c.jsx)("option",{value:"date_asc",children:"\u018fn k\xf6hn\u0259l\u0259r"}),(0,c.jsx)("option",{value:"title_asc",children:"Ad (A-Z)"}),(0,c.jsx)("option",{value:"title_desc",children:"Ad (Z-A)"}),(0,c.jsx)("option",{value:"questions_desc",children:"\xc7ox sual"}),(0,c.jsx)("option",{value:"questions_asc",children:"Az sual"})]}),(0,c.jsxs)(r.A,{onClick:p,variant:"primary",className:"w-full sm:w-auto",children:[(0,c.jsx)(o.xm,{}),(0,c.jsx)("span",{className:"hidden sm:inline ml-2",children:"A\u011f\u0131ll\u0131 M\u0259\u015fq"})]}),w&&(0,c.jsxs)(r.A,{onClick:n,className:"w-full sm:w-auto",children:[(0,c.jsx)(o.c1,{}),(0,c.jsx)("span",{className:"sm:hidden md:inline",children:"Test yarat"})]})]})]})}),w&&(0,c.jsx)(E,{}),0===B.length?(0,c.jsx)(i.A,{className:"text-center py-12",children:(0,c.jsxs)("p",{className:"text-gray-500",children:["archived"===C&&"Arxivd\u0259 test tap\u0131lmad\u0131.","drafts"===C&&"Qaralama test tap\u0131lmad\u0131.","published"===C&&"D\u0259rc edilmi\u015f test tap\u0131lmad\u0131. Filtl\u0259ri d\u0259yi\u015fm\u0259y\u0259 v\u0259 ya yeni test yaratma\u011fa c\u0259hd edin!"]})}):(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(e=>(0,c.jsx)(x,{quiz:e,onStartQuiz:s,onCloneQuiz:m,onEditQuiz:d,onArchiveRequest:h,onDeleteRequest:u,profile:g,onToggleStatus:b,onAssignRequest:f,toggleBookmark:v,onSetVisibilityRequest:j,isBookmarked:y},e.id))})]})}},8132:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var a=s(579);const l=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(s),children:t})}}}]);
//# sourceMappingURL=725.3aa6b8e6.chunk.js.map