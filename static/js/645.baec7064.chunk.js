"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[645],{8132:(e,t,s)=>{s.d(t,{A:()=>r});s(5043);var a=s(579);const r=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(s),children:t})}},8645:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(9379),r=s(5043),l=s(3216),n=s(5475),i=s(8132),d=s(4450),c=s(3918),o=s(579);const x=e=>{let{decks:t,userReviews:s,onUpdateReview:x}=e;const{deckId:m}=(0,l.g)(),[h,u]=(0,r.useState)({cards:[],currentCardIndex:0,isFlipped:!1}),[f,g]=(0,r.useState)(!0),j=(0,r.useMemo)(()=>t.find(e=>e.id===Number(m)),[t,m]);(0,r.useEffect)(()=>{if(!j)return;const e=(new Date).toISOString(),t=j.flashcards||[],a=(s||[]).filter(s=>t.some(e=>e.id===s.card_id)&&s.next_review_at<=e),r=t.filter(e=>!(s||[]).some(t=>t.card_id===e.id)),l=new Set(a.map(e=>e.card_id)),n=[...r,...t.filter(e=>l.has(e.id))].sort(()=>Math.random()-.5);u({cards:n,currentCardIndex:0,isFlipped:!1}),g(!1)},[j,s]);const p=e=>{const t=h.cards[h.currentCardIndex],r=((e,t)=>{let{repetitions:s,ease_factor:r,interval:l}=e;t<3?(s=0,l=1):(l=0===s?1:1===s?6:Math.round(l*r),s+=1),r+=.1-(5-t)*(.08+.02*(5-t)),r<1.3&&(r=1.3);const n=new Date;return n.setDate(n.getDate()+l),(0,a.A)((0,a.A)({},e),{},{repetitions:s,ease_factor:parseFloat(r.toFixed(2)),interval:l,next_review_at:n.toISOString()})})((s||[]).find(e=>e.card_id===t.id)||{card_id:t.id,repetitions:0,ease_factor:2.5,interval:0},e);x(r),u(e=>(0,a.A)((0,a.A)({},e),{},{currentCardIndex:e.currentCardIndex+1,isFlipped:!1}))};if(f)return(0,o.jsx)(i.A,{className:"text-center py-12",children:"T\u0259krar sessiyas\u0131 haz\u0131rlan\u0131r..."});if(!j)return(0,o.jsx)(i.A,{className:"text-center py-12",children:"Koloda tap\u0131lmad\u0131."});if(h.currentCardIndex>=h.cards.length)return(0,o.jsxs)(i.A,{className:"text-center py-12 animate-fade-in",children:[(0,o.jsx)(c.C1,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Sessiya Tamamland\u0131!"}),(0,o.jsx)("p",{className:"text-gray-600 mt-2",children:"Bu g\xfcn \xfc\xe7\xfcn b\xfct\xfcn t\u0259krarlar\u0131 bitirdiniz. Af\u0259rin!"}),(0,o.jsx)(n.N_,{to:"/decks",children:(0,o.jsxs)(d.A,{className:"mt-6",children:[(0,o.jsx)(c.A6,{})," B\xfct\xfcn kolodalara qay\u0131t"]})})]});const b=h.cards[h.currentCardIndex],N=h.currentCardIndex/h.cards.length*100,v={transformStyle:"preserve-3d",transform:h.isFlipped?"rotateY(180deg)":"rotateY(0deg)"},y={backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},w=(0,a.A)((0,a.A)({},y),{},{transform:"rotateY(180deg)"});return(0,o.jsxs)("div",{className:"animate-fade-in max-w-2xl mx-auto",children:[(0,o.jsx)("div",{className:"mb-4",children:(0,o.jsx)(n.N_,{to:"/decks",children:(0,o.jsxs)(d.A,{variant:"secondary",children:[(0,o.jsx)(c.A6,{})," Kolodalara qay\u0131t"]})})}),(0,o.jsxs)(i.A,{children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,o.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:j.title}),(0,o.jsxs)("span",{className:"text-sm font-semibold text-gray-600",children:[h.currentCardIndex+1," / ",h.cards.length]})]}),(0,o.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,o.jsx)("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"".concat(N,"%")}})})]}),(0,o.jsx)("div",{style:{perspective:"1000px"},className:"w-full h-64",children:(0,o.jsxs)("div",{style:v,className:"relative w-full h-full transition-transform duration-700",children:[(0,o.jsx)("div",{style:y,className:"absolute w-full h-full bg-orange-50 rounded-lg flex items-center justify-center p-6 text-center",children:(0,o.jsx)("p",{className:"text-xl font-semibold text-gray-800",children:b.front})}),(0,o.jsx)("div",{style:w,className:"absolute w-full h-full bg-blue-50 rounded-lg flex items-center justify-center p-6 text-center",children:(0,o.jsx)("p",{className:"text-xl font-semibold text-gray-800",children:b.back})})]})}),(0,o.jsx)("div",{className:"mt-6",children:h.isFlipped?(0,o.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,o.jsx)(d.A,{onClick:()=>p(0),variant:"danger",children:"Yenid\u0259n"}),(0,o.jsx)(d.A,{onClick:()=>p(2),className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:"\xc7\u0259tin"}),(0,o.jsx)(d.A,{onClick:()=>p(4),className:"bg-green-500 hover:bg-green-600 text-white",children:"Yax\u015f\u0131"}),(0,o.jsx)(d.A,{onClick:()=>p(5),className:"bg-blue-500 hover:bg-blue-600 text-white",children:"Asan"})]}):(0,o.jsx)(d.A,{onClick:()=>{u(e=>(0,a.A)((0,a.A)({},e),{},{isFlipped:!0}))},className:"w-full",children:"Cavab\u0131 G\xf6st\u0259r"})})]})]})}}}]);
//# sourceMappingURL=645.baec7064.chunk.js.map