"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[419],{8132:(e,t,s)=>{s.d(t,{A:()=>a});s(5043);var r=s(579);const a=e=>{let{children:t,className:s=""}=e;return(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(s),children:t})}},9419:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var r=s(9379),a=s(5043),n=s(5475),l=s(8132),i=s(4450),c=s(1425),o=s(3918),d=s(7304),u=s(6058),x=s(579);d.t1.register(d.Bs,d.m_,d.s$,d.PP,d.kc,d.E8,d.hE);const m=e=>{if(!e)return"N/A";const t=new Date(e);return isNaN(t)?"Invalid Date":t.toLocaleString("az-AZ")},p=e=>{let{isOpen:t,onClose:s,students:r,title:a}=e;return t?(0,x.jsx)(c.A,{isOpen:t,onClose:s,title:a,children:(0,x.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,x.jsx)("ul",{className:"divide-y divide-gray-200",children:r.map(e=>(0,x.jsxs)("li",{className:"py-3 flex justify-between items-center",children:[(0,x.jsxs)(n.N_,{to:"/student/".concat(e.user_id),className:"text-blue-600 hover:underline",children:[e.userName," ",e.userSurname]}),(0,x.jsxs)("span",{className:"text-gray-600",children:[e.percentage,"% (",e.quizTitle,")"]})]},e.id))})})}):null},h=e=>{let{isOpen:t,onClose:s,question:n,results:l,quizzes:i}=e;const o=(0,a.useMemo)(()=>{if(!n)return null;const e=i.find(e=>e.title===n.quizTitle);if(!e)return null;const t=e.questions.find(e=>e.text===n.text);if(!t)return null;if(["single","multiple"].includes(t.type)){const s=t.options.reduce((e,t)=>(0,r.A)((0,r.A)({},e),{},{[t]:0}),{});let a=0;l.forEach(r=>{if(r.quizId!==e.id)return;const n=r.userAnswers[t.id];n&&0!==n.length?"multiple"===t.type?n.forEach(e=>{void 0!==s[e]&&s[e]++}):void 0!==s[n]&&s[n]++:a++});return{type:"chart",chartData:{labels:Object.keys(s),datasets:[{label:"Cavablar\u0131n say\u0131",data:Object.values(s),backgroundColor:Object.keys(s).map(e=>t.correctAnswers.map(e=>t.options[e]).includes(e)?"rgba(75, 192, 192, 0.6)":"rgba(255, 99, 132, 0.6)"),borderColor:Object.keys(s).map(e=>t.correctAnswers.map(e=>t.options[e]).includes(e)?"rgba(75, 192, 192, 1)":"rgba(255, 99, 132, 1)"),borderWidth:1}]},noAnswerCount:a,totalAnswers:l.filter(t=>t.quizId===e.id).length}}if(["textInput","open"].includes(t.type)){const s=new Map;let r=0;l.forEach(a=>{if(a.quizId!==e.id)return;const n=a.userAnswers[t.id];if(n&&"string"===typeof n&&""!==n.trim()){const e=n.trim().toLowerCase();s.set(e,(s.get(e)||0)+1)}else r++});return{type:"list",groupedAnswers:Array.from(s.entries()).map(e=>{let[t,s]=e;return{answer:t,count:s}}).sort((e,t)=>t.count-e.count),noAnswerCount:r,totalAnswers:l.filter(t=>t.quizId===e.id).length}}return null},[n,l,i]);return t&&o?(0,x.jsxs)(c.A,{isOpen:t,onClose:s,title:"Sual T\u0259hlili: ".concat(n.text),size:"lg",children:["chart"===o.type&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"w-full h-80",children:(0,x.jsx)(u.yP,{data:o.chartData,options:{maintainAspectRatio:!1,indexAxis:"y"}})}),(0,x.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-4",children:["Bu suala ",o.totalAnswers," n\u0259f\u0259rd\u0259n ",o.noAnswerCount," n\u0259f\u0259r cavab verm\u0259yib."]})]}),"list"===o.type&&(0,x.jsxs)("div",{className:"space-y-3",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800",children:"T\u0259l\u0259b\u0259 Cavablar\u0131n\u0131n Qrupla\u015fd\u0131r\u0131lmas\u0131:"}),(0,x.jsx)("div",{className:"max-h-80 overflow-y-auto pr-2 border rounded-lg p-3 bg-gray-50",children:o.groupedAnswers.length>0?(0,x.jsx)("ul",{className:"divide-y divide-gray-200",children:o.groupedAnswers.map(e=>{let{answer:t,count:s}=e;return(0,x.jsxs)("li",{className:"py-2 flex justify-between items-center",children:[(0,x.jsx)("span",{className:"text-gray-700 break-all mr-4",children:t}),(0,x.jsxs)("span",{className:"font-bold text-orange-600 bg-orange-100 px-2 py-0.5 rounded-full text-sm flex-shrink-0",children:[s," cavab"]})]},t)})}):(0,x.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Bu suala he\xe7 bir m\u0259tn cavab\u0131 verilm\u0259yib."})}),(0,x.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-2",children:["Bu suala ",o.totalAnswers," n\u0259f\u0259rd\u0259n ",o.noAnswerCount," n\u0259f\u0259r cavab verm\u0259yib."]})]})]}):null},g=e=>{let{leaderboardData:t}=e;const[s,r]=(0,a.useState)(1),l=Math.ceil(t.length/3),c=t.slice(3*(s-1),3*s);return 0===t.length?(0,x.jsx)("p",{className:"text-gray-500",children:"Liderl\u0259r l\xf6vh\u0259si \xfc\xe7\xfcn kifay\u0259t q\u0259d\u0259r data yoxdur."}):(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map(e=>{let{quizTitle:t,topStudents:s}=e;return(0,x.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,x.jsx)("h4",{className:"font-semibold text-center mb-3 text-gray-700 truncate",children:(0,x.jsx)(n.N_,{to:"/stats/quiz/".concat(s[0].quizId),className:"hover:underline",children:t})}),(0,x.jsx)("ol",{className:"space-y-2",children:s.map((e,t)=>(0,x.jsxs)("li",{className:"flex items-center justify-between text-sm p-1 rounded-md hover:bg-gray-100",children:[(0,x.jsxs)("span",{className:"flex items-center gap-2",children:[0===t?(0,x.jsx)(o.b8,{}):1===t?(0,x.jsx)(o.SZ,{}):2===t?(0,x.jsx)(o.BC,{}):(0,x.jsx)(o.OR,{className:"text-gray-300"}),(0,x.jsxs)(n.N_,{to:"/student/".concat(e.user_id),className:"hover:underline",children:[e.userName," ",e.userSurname]})]}),(0,x.jsxs)("span",{className:"font-bold text-gray-800",children:[e.score," bal"]})]},e.id))})]},t)})}),l>1&&(0,x.jsxs)("div",{className:"mt-4 flex justify-center items-center gap-4",children:[(0,x.jsx)(i.A,{onClick:()=>r(e=>Math.max(1,e-1)),disabled:1===s,children:"\u018fvv\u0259lki"}),(0,x.jsxs)("span",{className:"text-sm text-gray-600",children:["S\u0259hif\u0259 ",s," / ",l]}),(0,x.jsx)(i.A,{onClick:()=>r(e=>Math.min(l,e+1)),disabled:s===l,children:"N\xf6vb\u0259ti"})]})]})},f=e=>{let{analytics:t,pieChartData:s,onPieChartClick:r,onAnalyzeQuestion:n,leaderboardData:i}=e;const c=(0,a.useRef)();return(0,x.jsxs)("div",{className:"space-y-6",children:[(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,x.jsxs)(l.A,{className:"lg:col-span-1",children:[(0,x.jsx)("h3",{className:"font-bold text-lg mb-4",children:"\xdcmumi G\xf6st\u0259ricil\u0259r"}),(0,x.jsxs)("div",{className:"space-y-3",children:[(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Testi Tamamlayanlar:"})," ",t.totalCompletions]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Unikal T\u0259l\u0259b\u0259l\u0259r:"})," ",t.uniqueStudents]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Orta N\u0259tic\u0259:"})," ",t.averageScore.toFixed(1),"%"]})]})]}),(0,x.jsxs)(l.A,{className:"lg:col-span-2",children:[(0,x.jsx)("h3",{className:"font-bold text-lg mb-4",children:"N\u0259tic\u0259l\u0259rin Paylanmas\u0131"}),(0,x.jsx)("div",{className:"h-64 flex items-center justify-center",children:s&&(0,x.jsx)(u.Fq,{data:s,options:{responsive:!0,maintainAspectRatio:!1},onClick:e=>{const t=(0,u.CK)(c.current,e);t.length>0&&r(t[0].index)},ref:c})})]})]}),(0,x.jsxs)(l.A,{children:[(0,x.jsxs)("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[(0,x.jsx)(o.OR,{})," Liderl\u0259r L\xf6vh\u0259si"]}),(0,x.jsx)(g,{leaderboardData:i})]}),(0,x.jsxs)(l.A,{children:[(0,x.jsx)("h3",{className:"font-bold text-lg mb-4",children:"\u018fn \xc7\u0259tin Suallar"}),(0,x.jsx)("ul",{className:"list-inside space-y-2",children:t.topDifficultQuestions.length>0?t.topDifficultQuestions.map(e=>{let[t,s]=e;return(0,x.jsxs)("li",{children:[(0,x.jsxs)("button",{onClick:()=>n({text:t,quizTitle:s.quizTitle}),className:"text-left text-blue-600 hover:underline flex items-center gap-2",children:[(0,x.jsx)(o.r9,{}),(0,x.jsx)("strong",{children:t})]})," (",s.quizTitle,") - ",(0,x.jsxs)("span",{className:"text-red-600",children:[s.count," s\u0259hv"]})]},t)}):(0,x.jsx)("p",{className:"text-gray-500",children:"S\u0259hv cavab tap\u0131lmad\u0131."})})]})]})},b=e=>{let{results:t,onReviewResult:s,onSort:r,sortBy:c,sortDirection:d}=e;const[u,p]=(0,a.useState)(1),h=(0,a.useMemo)(()=>{const e=10*(u-1);return t.slice(e,e+10)},[t,u]),g=Math.ceil(t.length/10),f=e=>c===e?"asc"===d?" \u25b2":" \u25bc":"";return(0,x.jsxs)(l.A,{children:[(0,x.jsx)("div",{className:"overflow-x-auto",children:(0,x.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,x.jsx)("thead",{className:"bg-gray-50",children:(0,x.jsxs)("tr",{children:[(0,x.jsxs)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>r("date"),children:["Tarix ",f("date")]}),(0,x.jsxs)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>r("name"),children:["Ad Soyad ",f("name")]}),(0,x.jsxs)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>r("quizTitle"),children:["Test ",f("quizTitle")]}),(0,x.jsxs)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>r("score"),children:["N\u0259tic\u0259 ",f("score")]}),(0,x.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,x.jsx)("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\u018fm\u0259liyyat"})]})}),(0,x.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(e=>(0,x.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,x.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:m(e.created_at)}),(0,x.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,x.jsxs)(n.N_,{to:"/student/".concat(e.user_id),className:"text-blue-600 hover:underline",children:[e.userName," ",e.userSurname]})}),(0,x.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,x.jsx)(n.N_,{to:"/stats/quiz/".concat(e.quizId),className:"text-blue-600 hover:underline",children:e.quizTitle})}),(0,x.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsxs)("span",{className:"font-bold",children:[e.score," / ",e.totalPoints," bal"]}),(0,x.jsxs)("span",{className:"text-xs text-gray-400",children:[e.percentage,"%"]})]})}),(0,x.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:(0,x.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("pending_review"===e.status?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:["pending_review"===e.status?(0,x.jsx)(o.O4,{className:"w-4 h-4 mr-1.5"}):(0,x.jsx)(o.C1,{className:"w-4 h-4 mr-1.5"})," ","pending_review"===e.status?"Yoxlan\u0131l\u0131r":"Tamamlan\u0131b"]})}),(0,x.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:(0,x.jsxs)(i.A,{onClick:()=>s(e),variant:"pending_review"===e.status?"primary":"secondary",size:"sm",children:["pending_review"===e.status?(0,x.jsx)(o.OD,{className:"w-4 h-4"}):(0,x.jsx)(o.bM,{className:"w-4 h-4"}),(0,x.jsx)("span",{className:"ml-1",children:"pending_review"===e.status?"Yoxla":"Bax"})]})})]},e.id))})]})}),g>1&&(0,x.jsxs)("div",{className:"py-4 flex items-center justify-between",children:[(0,x.jsx)(i.A,{onClick:()=>p(e=>Math.max(1,e-1)),disabled:1===u,children:"\u018fvv\u0259lki"}),(0,x.jsxs)("span",{className:"text-sm text-gray-600",children:["S\u0259hif\u0259 ",u," / ",g]}),(0,x.jsx)(i.A,{onClick:()=>p(e=>Math.min(g,e+1)),disabled:u===g,children:"N\xf6vb\u0259ti"})]})]})},j=e=>{let{results:t,onBack:s,quizzes:n,onReviewResult:c,studentGroups:d=[]}=e;const[u,g]=(0,a.useState)("overview"),[j,y]=(0,a.useState)(""),[N,v]=(0,a.useState)("all"),[w,A]=(0,a.useState)("all"),[C,k]=(0,a.useState)({start:"",end:""}),[S,z]=(0,a.useState)("date"),[q,T]=(0,a.useState)("desc"),[D,_]=(0,a.useState)(null),[O,M]=(0,a.useState)({isOpen:!1,students:[],title:""}),B=(0,a.useMemo)(()=>{let e=t;if("all"!==w){const t=d.find(e=>e.id===Number(w));if(t){const s=new Set((t.members||[]).map(e=>e.user_id));e=e.filter(e=>s.has(e.user_id))}}if(j){const t=j.toLowerCase();e=e.filter(e=>"".concat(e.userName," ").concat(e.userSurname).toLowerCase().includes(t)||e.quizTitle.toLowerCase().includes(t))}return"all"!==N&&(e=e.filter(e=>e.quizTitle===N)),C.start&&(e=e.filter(e=>new Date(e.created_at)>=new Date(C.start))),C.end&&(e=e.filter(e=>new Date(e.created_at)<=new Date(C.end).setHours(23,59,59,999))),e},[t,j,N,C,w,d]),R=(0,a.useMemo)(()=>B.filter(e=>"pending_review"===e.status),[B]),L=(0,a.useMemo)(()=>B.filter(e=>"pending_review"!==e.status),[B]),E=(0,a.useMemo)(()=>[...R].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)),[R]),I=(0,a.useMemo)(()=>[...L].sort((e,t)=>{let s=0;return"date"===S?s=new Date(e.created_at).getTime()-new Date(t.created_at).getTime():"name"===S?s="".concat(e.userName," ").concat(e.userSurname).localeCompare("".concat(t.userName," ").concat(t.userSurname)):"quizTitle"===S?s=e.quizTitle.localeCompare(t.quizTitle):"score"===S&&(s=e.score-t.score),"asc"===q?s:-s}),[L,S,q]),F=(0,a.useMemo)(()=>{const e=L;if(0===e.length)return null;const t=e.length,s=new Set(e.map(e=>"".concat(e.userName," ").concat(e.userSurname))).size,r=e.reduce((e,t)=>e+t.percentage,0)/t,a={perfect:e.filter(e=>e.percentage>=90).length,good:e.filter(e=>e.percentage>=70&&e.percentage<90).length,medium:e.filter(e=>e.percentage>=50&&e.percentage<70).length,bad:e.filter(e=>e.percentage<50).length},l={};e.forEach(e=>{const t=n.find(t=>t.id===e.quizId);t&&e.questionOrder.forEach(s=>{const r=t.questions.find(e=>e.id===s.id);r&&!((e,t)=>{if(void 0===t||null===t)return!1;if(!e||!e.type)return!1;switch(e.type){case"single":return t===e.options[e.correctAnswers[0]];case"multiple":const s=e.correctAnswers.map(t=>e.options[t]).sort(),r=Array.isArray(t)?[...t].sort():[];return JSON.stringify(s)===JSON.stringify(r);case"textInput":return t.trim().toLowerCase()===e.correctAnswers[0].trim().toLowerCase();case"trueFalse":return t===e.correctAnswer;case"ordering":return JSON.stringify(t)===JSON.stringify(e.orderItems);default:return!1}})(r,e.userAnswers[r.id])&&(l[r.text]||(l[r.text]={count:0,quizTitle:t.title}),l[r.text].count++)})});return{totalCompletions:t,uniqueStudents:s,averageScore:r,scoreDistribution:a,topDifficultQuestions:Object.entries(l).sort((e,t)=>{let[,s]=e,[,r]=t;return r.count-s.count}).slice(0,5)}},[L,n]),Q=(0,a.useMemo)(()=>{const e=("all"===N?t.filter(e=>"pending_review"!==e.status):L).reduce((e,t)=>(e[t.quizTitle]=e[t.quizTitle]||[],e[t.quizTitle].push(t),e),{});return Object.entries(e).map(e=>{let[t,s]=e;const r={};s.forEach(e=>{const t="".concat(e.userName," ").concat(e.userSurname);(!r[t]||e.score>r[t].score)&&(r[t]=e)});return{quizTitle:t,topStudents:Object.values(r).sort((e,t)=>t.score-e.score||new Date(e.created_at)-new Date(t.created_at)).slice(0,3)}}).filter(e=>e.topStudents.length>0)},[L,t,N]),G=(0,a.useMemo)(()=>F?{labels:["\u018fla (90-100%)","Yax\u015f\u0131 (70-89%)","Kafi (50-69%)","Qeyri-kafi (<50%)"],datasets:[{data:[F.scoreDistribution.perfect,F.scoreDistribution.good,F.scoreDistribution.medium,F.scoreDistribution.bad],backgroundColor:["#10B981","#3B82F6","#F59E0B","#EF4444"],borderColor:["#ffffff"],borderWidth:2}]}:null,[F]),P=e=>{const t=L;let s=[],r="";switch(e){case 0:r="\u018fla N\u0259tic\u0259 G\xf6st\u0259r\u0259n T\u0259l\u0259b\u0259l\u0259r",s=t.filter(e=>e.percentage>=90);break;case 1:r="Yax\u015f\u0131 N\u0259tic\u0259 G\xf6st\u0259r\u0259n T\u0259l\u0259b\u0259l\u0259r",s=t.filter(e=>e.percentage>=70&&e.percentage<90);break;case 2:r="Kafi N\u0259tic\u0259 G\xf6st\u0259r\u0259n T\u0259l\u0259b\u0259l\u0259r",s=t.filter(e=>e.percentage>=50&&e.percentage<70);break;case 3:r="Qeyri-kafi N\u0259tic\u0259 G\xf6st\u0259r\u0259n T\u0259l\u0259b\u0259l\u0259r",s=t.filter(e=>e.percentage<50);break;default:return}M({isOpen:!0,students:s,title:r})},Y=(0,a.useMemo)(()=>["all",...Array.from(new Set(t.map(e=>e.quizTitle))).sort()],[t]),J=e=>{S===e?T(e=>"asc"===e?"desc":"asc"):(z(e),T("desc"))};return(0,x.jsx)("div",{className:"animate-fade-in",children:(0,x.jsxs)("div",{className:"grid lg:grid-cols-4 gap-8 items-start",children:[(0,x.jsxs)("div",{className:"lg:col-span-1 space-y-6 lg:sticky lg:top-24",children:[(0,x.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,x.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Statistika"}),(0,x.jsxs)(i.A,{onClick:s,variant:"secondary",className:"w-full justify-center",children:[(0,x.jsx)(o.A6,{})," Geri"]})]}),(0,x.jsxs)(l.A,{children:[(0,x.jsx)("h3",{className:"font-bold text-gray-800 mb-3",children:"Filtrl\u0259r"}),(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ada g\xf6r\u0259 axtar\u0131\u015f"}),(0,x.jsx)("input",{type:"text",placeholder:"T\u0259l\u0259b\u0259 axtar...",value:j,onChange:e=>y(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qrupa g\xf6r\u0259 filtr"}),(0,x.jsxs)("select",{value:w,onChange:e=>A(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white focus:ring-orange-500 focus:border-orange-500",children:[(0,x.jsx)("option",{value:"all",children:"B\xfct\xfcn T\u0259l\u0259b\u0259l\u0259r"}),d.map(e=>(0,x.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Test\u0259 g\xf6r\u0259 filtr"}),(0,x.jsx)("select",{value:N,onChange:e=>v(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white focus:ring-orange-500 focus:border-orange-500",children:Y.map(e=>(0,x.jsx)("option",{value:e,children:"all"===e?"B\xfct\xfcn Testl\u0259r":e},e))})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarix aral\u0131\u011f\u0131"}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,x.jsx)("input",{type:"date",value:C.start,onChange:e=>k(t=>(0,r.A)((0,r.A)({},t),{},{start:e.target.value})),className:"p-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500"}),(0,x.jsx)("input",{type:"date",value:C.end,onChange:e=>k(t=>(0,r.A)((0,r.A)({},t),{},{end:e.target.value})),className:"p-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500"})]})]})]}),(0,x.jsx)("div",{className:"mt-6 border-t pt-4",children:(0,x.jsxs)(i.A,{onClick:()=>{const e="pending"===u?E:I,t=[["Ad","Soyad","Test Ad\u0131","Toplanan Bal","Maksimum Bal","Faiz","Status","Tarix"].join(",")];e.forEach(e=>{const s=['"'.concat(e.userName,'"'),'"'.concat(e.userSurname,'"'),'"'.concat(e.quizTitle,'"'),e.score,e.totalPoints,e.percentage,e.status,m(e.created_at)];t.push(s.join(","))});const s=t.join("\n"),r=new Blob(["\ufeff"+s],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(r),a.download="statistika_".concat(u,"_").concat((new Date).toLocaleDateString("az-AZ"),".csv"),a.click()},variant:"secondary",className:"w-full justify-center",disabled:0===B.length,children:[(0,x.jsx)(o.s3,{})," CSV ixrac et"]})})]})]}),(0,x.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[(0,x.jsx)(p,{isOpen:O.isOpen,onClose:()=>M({isOpen:!1,students:[],title:""}),students:O.students,title:O.title}),(0,x.jsx)(h,{isOpen:!!D,onClose:()=>_(null),question:D,results:t,quizzes:n}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"border-b border-gray-200",children:(0,x.jsxs)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[(0,x.jsx)("button",{onClick:()=>g("overview"),className:"".concat("overview"===u?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"),children:"\xdcmumi Bax\u0131\u015f"}),(0,x.jsxs)("button",{onClick:()=>g("pending"),className:"".concat("pending"===u?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"),children:["G\xf6zl\u0259y\u0259n Yoxlamalar (",R.length,")"]}),(0,x.jsxs)("button",{onClick:()=>g("completed"),className:"".concat("completed"===u?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"),children:["Tamamlanm\u0131\u015f N\u0259tic\u0259l\u0259r (",L.length,")"]})]})}),(0,x.jsx)("div",{className:"pt-6",children:(()=>{switch(u){case"overview":return F?(0,x.jsx)(f,{analytics:F,pieChartData:G,leaderboardData:Q,onAnalyzeQuestion:_,onPieChartClick:P}):(0,x.jsx)(l.A,{children:(0,x.jsx)("p",{className:"text-center text-gray-500",children:"Analitika \xfc\xe7\xfcn kifay\u0259t q\u0259d\u0259r data yoxdur."})});case"pending":return(0,x.jsx)(b,{results:E,onReviewResult:c,onSort:J,sortBy:S,sortDirection:q});case"completed":return(0,x.jsx)(b,{results:I,onReviewResult:c,onSort:J,sortBy:S,sortDirection:q});default:return null}})()})]})]})]})})}}}]);
//# sourceMappingURL=419.fe6799e9.chunk.js.map