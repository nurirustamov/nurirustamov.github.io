"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[75],{3075:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(9379),r=n(5043),i=n(3216),s=n(7977),l=n(8132),o=n(4450),c=n(3918),m=n(9207),d=n(579);const p=()=>(0,d.jsx)("style",{children:"\n        .article-content h1, .article-content h2, .article-content h3, .article-content h4 {\n            margin-bottom: 0.75em !important;\n            margin-top: 1.5em !important;\n            font-weight: 700 !important;\n            line-height: 1.3 !important;\n        }\n        .article-content h1 { font-size: 2.25em !important; !important; /* red-600 */ }\n        .article-content h2 { font-size: 1.875em !important; !important; /* blue-600 */ }\n        .article-content h3 { font-size: 1.5em !important; !important; /* green-600 */ }\n        .article-content p {\n            margin-bottom: 1.25em !important;\n            line-height: 1.7 !important;\n            color: #374151 !important; /* gray-700 */\n        }\n        .article-content ul, .article-content ol {\n            margin-left: 1.5em !important;\n            margin-bottom: 1.25em !important;\n            padding-left: 1.5em !important;\n        }\n        .article-content ul { list-style-type: disc !important; }\n        .article-content ol { list-style-type: decimal !important; }\n        .article-content li { margin-bottom: 0.5em !important; }\n        .article-content table {\n            width: 100% !important;\n            border-collapse: collapse !important;\n            margin-bottom: 1.5em !important;\n            border: 1px solid #e5e7eb !important; /* gray-200 */\n        }\n        .article-content th, .article-content td {\n            border: 1px solid #e5e7eb !important; /* gray-200 */\n            padding: 0.75em 1em !important;\n            text-align: left !important;\n        }\n        .article-content th {\n            background-color: #f9fafb !important; /* gray-50 */\n            font-weight: 600 !important;\n        }\n        .article-content a {\n            color: #ea580c !important; /* orange-600 */\n            text-decoration: underline !important;\n        }\n        .article-content strong { font-weight: 700 !important; }\n        .article-content em { font-style: italic !important; }\n        .article-content blockquote {\n            border-left: 4px solid #f97316 !important; /* orange-500 */\n            padding-left: 1em !important;\n            margin-left: 0 !important;\n            font-style: italic !important;\n            color: #4b5563 !important; /* gray-600 */\n        }\n    "}),h=e=>{let{articles:t,quizzes:n,onStartQuiz:h,onMarkAsRead:x,articleProgress:u,profile:f,fetchComments:g,postComment:j,deleteComment:b}=e;const{articleId:y}=(0,i.g)(),v=(0,i.Zp)(),N=(0,r.useMemo)(()=>{if(!t||!n)return null;const e=t.find(e=>e.id===Number(y));if(!e)return null;const r=new Set((e.article_quizzes||[]).map(e=>e.quiz_id)),i=n.filter(e=>r.has(e.id));return(0,a.A)((0,a.A)({},e),{},{quizzes:i})},[t,n,y]),w=(0,r.useMemo)(()=>u.some(e=>e.article_id===Number(y)),[u,y]);if(!N)return(0,d.jsx)(l.A,{children:(0,d.jsx)("p",{className:"text-center",children:"M\u0259qal\u0259 tap\u0131lmad\u0131."})});console.log("HTML \u0434\u043e \u043e\u0447\u0438\u0441\u0442\u043a\u0438:",N.content);const z=s.default.sanitize(N.content);return console.log("HTML \u043f\u043e\u0441\u043b\u0435 \u043e\u0447\u0438\u0441\u0442\u043a\u0438:",z),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p,{}),(0,d.jsxs)("div",{className:"animate-fade-in max-w-4xl mx-auto space-y-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)(o.A,{variant:"secondary",onClick:()=>v("/articles"),children:[(0,d.jsx)(c.A6,{})," M\u0259qal\u0259l\u0259r siyah\u0131s\u0131na qay\u0131t"]}),w?(0,d.jsxs)("span",{className:"flex items-center font-semibold text-green-600",children:[(0,d.jsx)(c.C1,{className:"w-6 h-6 mr-2"})," Oxunub"]}):(0,d.jsx)(o.A,{onClick:()=>x(N.id),children:"Oxunmu\u015f kimi i\u015far\u0259l\u0259"})]}),(0,d.jsxs)(l.A,{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:N.title}),(0,d.jsx)("div",{className:"article-content",dangerouslySetInnerHTML:{__html:z}}),(0,d.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,d.jsx)(m.A,{targetId:N.id,targetType:"article",profile:f,fetchComments:g,postComment:j,deleteComment:b})})]}),N.quizzes&&N.quizzes.length>0&&(0,d.jsxs)(l.A,{children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"M\xf6vzuya aid testl\u0259r"}),(0,d.jsx)("div",{className:"space-y-3",children:N.quizzes.map(e=>(0,d.jsxs)("div",{className:"flex justify-between items-center p-4 border rounded-lg hover:bg-gray-50",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:[e.questions.length," sual"]})]}),(0,d.jsxs)(o.A,{onClick:()=>h(e.id),children:[(0,d.jsx)(c.ud,{})," Test\u0259 Ba\u015fla"]})]},e.id))})]})]})]})}},8132:(e,t,n)=>{n.d(t,{A:()=>r});n(5043);var a=n(579);const r=e=>{let{children:t,className:n=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(n),children:t})}},9207:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(9379),r=n(5043),i=n(3216),s=n(5475),l=n(4450),o=n(3918),c=n(579);const m=e=>{var t;let{comment:n,onReply:a,onDelete:i,profile:s}=e;const[d,p]=(0,r.useState)(!1),[h,x]=(0,r.useState)("");return(0,c.jsxs)("div",{className:"flex flex-col gap-2 p-3 rounded-lg bg-white shadow-sm",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-orange-200 flex items-center justify-center font-bold text-orange-600",children:(null===(t=n.profiles.first_name)||void 0===t?void 0:t[0])||"U"}),(0,c.jsxs)("span",{className:"font-semibold text-gray-800",children:[n.profiles.first_name," ",n.profiles.last_name]})]}),(0,c.jsx)("span",{className:"text-xs text-gray-400",children:new Date(n.created_at).toLocaleString()})]}),(0,c.jsx)("p",{className:"text-gray-700 pl-10",children:n.content}),(0,c.jsxs)("div",{className:"flex items-center justify-end gap-2 pl-10",children:[s&&(0,c.jsxs)(l.A,{variant:"secondary",size:"sm",onClick:()=>p(!d),children:[(0,c.jsx)(o.Sb,{})," Cavab ver"]}),(null===s||void 0===s?void 0:s.id)===n.user_id&&(0,c.jsx)(l.A,{variant:"danger",size:"sm",onClick:()=>i(n.id),children:(0,c.jsx)(o.uc,{})})]}),d&&(0,c.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h.trim()&&(a(h,n.id),x(""),p(!1))},className:"pl-10 mt-2 flex gap-2",children:[(0,c.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"Cavab verilir: ".concat(n.profiles.first_name,"..."),className:"flex-grow mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm"}),(0,c.jsx)(l.A,{type:"submit",size:"sm",children:"G\xf6nd\u0259r"})]}),n.children&&n.children.length>0&&(0,c.jsx)("div",{className:"pl-6 border-l-2 border-orange-100 mt-2 space-y-3",children:n.children.map(e=>(0,c.jsx)(m,{comment:e,onReply:a,onDelete:i,profile:s},e.id))})]})},d=e=>{let{targetId:t,targetType:n,profile:o,fetchComments:d,postComment:p,deleteComment:h}=e;const[x,u]=(0,r.useState)([]),[f,g]=(0,r.useState)(""),j=(0,i.zy)();(0,r.useEffect)(()=>{t&&n&&(async()=>{const e=await d(t,n);u(e||[])})()},[t,n,d]);const b=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r="".concat(j.pathname,"#comment-").concat(a||"new");if(await p(t,n,e,a,r)){const e=await d(t,n);u(e||[]),a||g("")}},y=async e=>{await h(e)&&u(t=>t.filter(t=>t.id!==e))},v=(0,r.useMemo)(()=>{const e={},t=[];return x.forEach(t=>{e[t.id]=(0,a.A)((0,a.A)({},t),{},{children:[]})}),x.forEach(n=>{n.parent_comment_id&&e[n.parent_comment_id]?e[n.parent_comment_id].children.push(e[n.id]):t.push(e[n.id])}),t},[x]);return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("h3",{className:"text-xl font-bold text-gray-800",children:["\u015e\u0259rhl\u0259r (",x.length,")"]}),o&&(0,c.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b(f)},className:"flex gap-2 items-start",children:[(0,c.jsx)("textarea",{value:f,onChange:e=>g(e.target.value),placeholder:"\u015e\u0259rhinizi yaz\u0131n...",className:"flex-grow mt-1 block w-full rounded-md border-gray-300 shadow-sm",rows:"3"}),(0,c.jsx)(l.A,{type:"submit",children:"G\xf6nd\u0259r"})]}),!o&&(0,c.jsxs)("p",{className:"text-center p-4 bg-gray-50 rounded-md",children:["\u015e\u0259rh yazmaq \xfc\xe7\xfcn ",(0,c.jsx)(s.N_,{to:"/auth",className:"text-orange-600 font-semibold hover:underline",children:"daxil olun"}),"."]}),(0,c.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,c.jsx)(m,{comment:e,onReply:b,onDelete:y,profile:o},e.id))})]})}}}]);
//# sourceMappingURL=75.9203d48b.chunk.js.map