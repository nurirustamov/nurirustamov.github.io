"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[656],{3656:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var t=r(9379),l=r(5043),a=r(3216),i=r(5475),n=r(8132),d=r(4450),c=r(3918),o=r(579);const u=e=>{let{learningPaths:s,courses:r,onStartQuiz:u,articleProgress:m,quizResults:h,profile:x}=e;const{pathId:p}=(0,a.g)(),g=(0,l.useMemo)(()=>s.find(e=>e.id===Number(p)),[s,p]),f=(0,l.useMemo)(()=>{if(!g||!r)return[];const e=new Set((m||[]).filter(e=>e.user_id===(null===x||void 0===x?void 0:x.id)).map(e=>e.article_id)),s=new Set((h||[]).filter(e=>e.user_id===(null===x||void 0===x?void 0:x.id)).map(e=>e.quizId));return(g.path_items||[]).sort((e,s)=>e.order-s.order).map(l=>{var a;const i=r.find(e=>e.id===l.course_id);if(!i)return(0,t.A)((0,t.A)({},l),{},{course:null,isCompleted:!1,progress:0});const n=(null===(a=i.course_items)||void 0===a?void 0:a.length)||0;if(0===n)return(0,t.A)((0,t.A)({},l),{},{course:i,isCompleted:!1,progress:0});let d=0;(i.course_items||[]).forEach(r=>{(r.article_id&&e.has(r.article_id)||r.quiz_id&&s.has(r.quiz_id))&&d++});const c=Math.round(d/n*100),o=100===c;return(0,t.A)((0,t.A)({},l),{},{course:i,isCompleted:o,progress:c})})},[g,r,m,h,x]),j=(0,l.useMemo)(()=>{const e=f.length;if(0===e)return{completedCount:0,totalCount:0,percentage:0};const s=f.filter(e=>e.isCompleted).length;return{completedCount:s,totalCount:e,percentage:e>0?Math.round(s/e*100):0}},[f]);return g?(0,o.jsxs)("div",{className:"animate-fade-in max-w-4xl mx-auto space-y-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(i.N_,{to:"/paths",children:(0,o.jsxs)(d.A,{variant:"secondary",className:"mb-4",children:[(0,o.jsx)(c.A6,{})," T\u0259dris Yollar\u0131 siyah\u0131s\u0131na qay\u0131t"]})}),(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,o.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900 mb-3",children:g.title}),(0,o.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:g.description}),(0,o.jsx)("div",{className:"space-y-4",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,o.jsx)("span",{className:"font-bold text-orange-600",children:"\xdcmumi proqres"}),(0,o.jsxs)("span",{className:"text-sm text-gray-500",children:[j.completedCount," / ",j.totalCount," kurs tamamlan\u0131b"]})]}),(0,o.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,o.jsx)("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 h-2.5 rounded-full",style:{width:"".concat(j.percentage,"%")}})})]})})]})]}),(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"T\u0259dris Yolunun Proqram\u0131"}),(0,o.jsx)("ol",{className:"space-y-4",children:f.map((e,s)=>e.course?(0,o.jsxs)("li",{className:"flex items-center gap-4 p-4 rounded-lg border transition-all duration-200 ".concat(e.isCompleted?"bg-green-50":"hover:border-gray-300"),children:[(0,o.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ".concat(e.isCompleted?"bg-green-100":"bg-gray-100"),children:e.isCompleted?(0,o.jsx)(c.C1,{className:"w-6 h-6 text-green-500"}):(0,o.jsx)("span",{className:"font-bold text-gray-500",children:s+1})}),(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)(c.cZ,{className:"w-6 h-6 text-purple-500"})}),(0,o.jsxs)("div",{className:"flex-grow",children:[(0,o.jsx)("p",{className:"font-semibold text-gray-800",children:e.course.title}),(0,o.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:(0,o.jsx)("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:"".concat(e.progress,"%")}})})]}),(0,o.jsx)("div",{className:"flex-shrink-0",children:(0,o.jsx)(i.N_,{to:"/courses/".concat(e.course.id),children:(0,o.jsx)(d.A,{variant:"secondary",size:"sm",children:"Kursa Ke\xe7"})})})]},e.id):null)}),0===(g.path_items||[]).length&&(0,o.jsx)("p",{className:"text-center text-gray-500 py-8",children:"T\u0259dris yolunun proqram\u0131 bo\u015fdur."})]})]}):(0,o.jsx)(n.A,{className:"text-center py-12",children:(0,o.jsx)("p",{className:"text-gray-500",children:"Y\xfckl\u0259nir..."})})}},8132:(e,s,r)=>{r.d(s,{A:()=>l});r(5043);var t=r(579);const l=e=>{let{children:s,className:r=""}=e;return(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(r),children:s})}}}]);
//# sourceMappingURL=656.443e065d.chunk.js.map