"use strict";(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[725],{4725:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var a=t(5043),r=t(8132),l=t(4450),i=t(3918),n=t(579);const c=e=>e?new Date(e).toLocaleString("az-AZ",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):null,d=e=>{let{quiz:s,onStartQuiz:t,onCloneQuiz:d,onEditQuiz:o,onArchiveRequest:x,onDeleteRequest:m,isAdmin:u,onToggleStatus:h,onAssignRequest:p}=e;const[g,b]=(0,a.useState)(!1),f=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[f]);const v=s.questions||[],y=(e=>{const s=new Date,t=e.start_time?new Date(e.start_time):null,a=e.end_time?new Date(e.end_time):null;return t&&s<t?{text:" ba\u015flay\u0131r ".concat(c(t)),color:"blue",active:!1}:a&&s>a?{text:"Bitib",color:"red",active:!1}:t&&a?{text:" bitir ".concat(c(a)),color:"green",active:!0}:{text:"Aktiv",color:"green",active:!0}})(s);return(0,n.jsxs)(r.A,{className:"flex flex-col transition-transform duration-200 ".concat(s.isArchived?"bg-gray-100":"hover:shadow-orange-200 hover:-translate-y-1"),children:[(0,n.jsxs)("div",{className:"flex-grow",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-2",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-800 flex-1 pr-2 mb-2 sm:mb-0",children:s.title}),(0,n.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[u&&!s.is_published&&!s.isArchived&&(0,n.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-yellow-800 bg-yellow-200 px-2 py-1 rounded-full whitespace-nowrap",children:"QARALAMA"}),s.isArchived?(0,n.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-600 bg-gray-200 px-2 py-1 rounded-full whitespace-nowrap",children:"ARX\u0130VD\u018f"}):s.is_published&&(0,n.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-orange-600 bg-orange-100 px-2 py-1 rounded-full whitespace-nowrap",children:s.category||"Kateqoriyas\u0131z"})]})]}),(0,n.jsx)("p",{className:"text-gray-600 mb-4 h-12 overflow-hidden text-sm",children:s.description}),(0,n.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-500 mb-4",children:[(0,n.jsxs)("span",{children:[v.length," sual"]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[s.passcode&&(0,n.jsx)("span",{className:"flex items-center gap-1 font-medium text-gray-600",title:"Giri\u015f kodu t\u0259l\u0259b olunur",children:(0,n.jsx)(i.JD,{className:"h-4 w-4"})}),s.attempt_limit>0&&(0,n.jsxs)("span",{className:"flex items-center gap-1 font-medium text-purple-600",title:"Maksimum ".concat(s.attempt_limit," c\u0259hd"),children:[(0,n.jsx)(i.fN,{className:"h-4 w-4"}),s.attempt_limit," c\u0259hd"]}),(0,n.jsxs)("span",{className:"flex items-center gap-1 font-medium text-".concat(y.color,"-600"),children:[(0,n.jsx)(i.O4,{className:"h-4 w-4"}),y.text]})]})]})]}),(0,n.jsxs)("div",{className:"flex items-stretch gap-2 mt-auto",children:[(0,n.jsxs)(l.A,{onClick:()=>t(s.id),className:"flex-1",disabled:0===v.length||s.isArchived||!y.active||!s.is_published,children:[(0,n.jsx)(i.ud,{})," ",(0,n.jsx)("span",{className:"hidden sm:inline ml-1",children:"Ba\u015fla"})]}),u&&(0,n.jsxs)("div",{className:"relative",ref:f,children:[(0,n.jsx)(l.A,{onClick:()=>b(!g),variant:"secondary",className:"h-full",children:(0,n.jsx)(i.Mg,{})}),g&&(0,n.jsxs)("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:[(0,n.jsxs)("button",{onClick:()=>{p(s.id,s.title,"quiz"),b(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,n.jsx)(i.OD,{})," ",(0,n.jsx)("span",{className:"ml-2",children:"T\u0259yin et"})]}),(0,n.jsxs)("button",{onClick:()=>{h(s.id,!s.is_published),b(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[s.is_published?(0,n.jsx)(i.aR,{}):(0,n.jsx)(i.bM,{}),(0,n.jsx)("span",{className:"ml-2",children:s.is_published?"Qaralamaya sal":"D\u0259rc et"})]}),(0,n.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,n.jsxs)("button",{onClick:()=>{d(s.id),b(!1)},disabled:s.isArchived,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center disabled:opacity-50",children:[(0,n.jsx)(i.j,{})," ",(0,n.jsx)("span",{className:"ml-2",children:"Kopyala"})]}),(0,n.jsxs)("button",{onClick:()=>{o(s.id),b(!1)},disabled:s.isArchived,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center disabled:opacity-50",children:[(0,n.jsx)(i.qU,{})," ",(0,n.jsx)("span",{className:"ml-2",children:"Redakt\u0259 et"})]}),(0,n.jsxs)("button",{onClick:()=>{x(s.id,!s.isArchived),b(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,n.jsx)(i.kb,{})," ",(0,n.jsx)("span",{className:"ml-2",children:s.isArchived?"Arxivd\u0259n \xe7\u0131xar":"Arxiv\u0259 sal"})]}),(0,n.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,n.jsxs)("button",{onClick:()=>{m(s.id),b(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center",children:[(0,n.jsx)(i.uc,{})," ",(0,n.jsx)("span",{className:"ml-2",children:"Sil"})]})]})]})]})]})},o=e=>{let{quizzes:s,onStartQuiz:t,onAddNewQuiz:c,onEditQuiz:o,onDeleteRequest:x,onCloneQuiz:m,onArchiveRequest:u,onStartSmartPractice:h,isAdmin:p,onToggleStatus:g,onAssignRequest:b}=e;const[f,v]=(0,a.useState)(""),[y,j]=(0,a.useState)("date_desc"),[w,N]=(0,a.useState)("all"),[A,q]=(0,a.useState)("published"),k=(0,a.useMemo)(()=>{const e=s.filter(e=>!e.isArchived);return["all",...new Set(e.map(e=>e.category||"Kateqoriyas\u0131z"))]},[s]),_=(0,a.useMemo)(()=>{const e=f.toLowerCase();return s.filter(s=>{if(p){if("published"===A&&(s.isArchived||!s.is_published))return!1;if("drafts"===A&&(s.isArchived||s.is_published))return!1;if("archived"===A&&!s.isArchived)return!1}else if(!s.is_published||s.isArchived)return!1;return("all"===w||(s.category||"Kateqoriyas\u0131z")===w)&&!!(!e||s.title.toLowerCase().includes(e)||s.description&&s.description.toLowerCase().includes(e))}).sort((e,s)=>{switch(y){case"title_asc":return e.title.localeCompare(s.title);case"title_desc":return s.title.localeCompare(e.title);case"questions_asc":return(e.questions||[]).length-(s.questions||[]).length;case"questions_desc":return(s.questions||[]).length-(e.questions||[]).length;case"date_asc":return e.id-s.id;default:return s.id-e.id}})},[s,f,y,w,A,p]),C=()=>(0,n.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,n.jsxs)("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[(0,n.jsx)("button",{onClick:()=>q("published"),className:"".concat("published"===A?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"),children:"D\u0259rc Edilmi\u015f"}),(0,n.jsx)("button",{onClick:()=>q("drafts"),className:"".concat("drafts"===A?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"),children:"Qaralamalar"}),(0,n.jsx)("button",{onClick:()=>q("archived"),className:"".concat("archived"===A?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"),children:"Arxiv"})]})});return(0,n.jsxs)("div",{className:"animate-fade-in",children:[(0,n.jsx)(r.A,{className:"mb-6 !p-4 bg-gray-50 border border-gray-200",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,n.jsxs)("div",{className:"relative flex-grow w-full",children:[(0,n.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,n.jsx)(i.WI,{})}),(0,n.jsx)("input",{type:"text",placeholder:"Ad\u0131na v\u0259 ya t\u0259svirin\u0259 g\xf6r\u0259 axtar\u0131\u015f...",value:f,onChange:e=>v(e.target.value),className:"pl-10 pr-4 py-2 border-2 border-gray-200 rounded-lg w-full focus:ring-orange-400 focus:border-orange-400 transition"})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-2 w-full md:w-auto",children:["archived"!==A&&(0,n.jsx)("select",{value:w,onChange:e=>N(e.target.value),className:"py-2 px-4 border-2 border-gray-200 rounded-lg bg-white w-full sm:w-auto",children:k.map(e=>(0,n.jsx)("option",{value:e,children:"all"===e?"B\xfct\xfcn kateqoriyalar":e},e))}),(0,n.jsxs)("select",{value:y,onChange:e=>j(e.target.value),className:"py-2 px-4 border-2 border-gray-200 rounded-lg bg-white w-full sm:w-auto",children:[(0,n.jsx)("option",{value:"date_desc",children:"\u018fn yenil\u0259r"}),(0,n.jsx)("option",{value:"date_asc",children:"\u018fn k\xf6hn\u0259l\u0259r"}),(0,n.jsx)("option",{value:"title_asc",children:"Ad (A-Z)"}),(0,n.jsx)("option",{value:"title_desc",children:"Ad (Z-A)"}),(0,n.jsx)("option",{value:"questions_desc",children:"\xc7ox sual"}),(0,n.jsx)("option",{value:"questions_asc",children:"Az sual"})]}),(0,n.jsxs)(l.A,{onClick:h,variant:"primary",className:"w-full sm:w-auto",children:[(0,n.jsx)(i.xm,{}),(0,n.jsx)("span",{className:"hidden sm:inline ml-2",children:"A\u011f\u0131ll\u0131 M\u0259\u015fq"})]}),p&&(0,n.jsxs)(l.A,{onClick:c,className:"w-full sm:w-auto",children:[(0,n.jsx)(i.c1,{}),(0,n.jsx)("span",{className:"sm:hidden md:inline",children:"Test yarat"})]})]})]})}),p&&(0,n.jsx)(C,{}),0===_.length?(0,n.jsx)(r.A,{className:"text-center py-12",children:(0,n.jsxs)("p",{className:"text-gray-500",children:["archived"===A&&"Arxivd\u0259 test tap\u0131lmad\u0131.","drafts"===A&&"Qaralama test tap\u0131lmad\u0131.","published"===A&&"D\u0259rc edilmi\u015f test tap\u0131lmad\u0131. Filtl\u0259ri d\u0259yi\u015fm\u0259y\u0259 v\u0259 ya yeni test yaratma\u011fa c\u0259hd edin!"]})}):(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(e=>(0,n.jsx)(d,{quiz:e,onStartQuiz:t,onCloneQuiz:m,onEditQuiz:o,onArchiveRequest:u,onDeleteRequest:x,isAdmin:p,onToggleStatus:g,onAssignRequest:b},e.id))})]})}},8132:(e,s,t)=>{t.d(s,{A:()=>r});t(5043);var a=t(579);const r=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(t),children:s})}}}]);
//# sourceMappingURL=725.32530bef.chunk.js.map