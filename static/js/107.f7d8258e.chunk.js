(self.webpackChunkquiztest=self.webpackChunkquiztest||[]).push([[107],{3705:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var l=a(5043),t=a(579);const r=e=>{let{options:s,value:a,onChange:r,placeholder:i}=e;const[n,o]=(0,l.useState)(""),[c,d]=(0,l.useState)(!1),m=(0,l.useMemo)(()=>""===n?s:s.filter(e=>e.toLowerCase().includes(n.toLowerCase())),[n,s]);return(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)("input",{type:"text",value:a,onChange:e=>{o(e.target.value),r(e.target.value),c||d(!0)},onFocus:()=>d(!0),onBlur:()=>setTimeout(()=>d(!1),150),placeholder:i,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 sm:text-sm"}),c&&(0,t.jsx)("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg mt-1 max-h-60 overflow-auto",children:m.length>0?m.map(e=>(0,t.jsx)("li",{onMouseDown:()=>(e=>{r(e),o(""),d(!1)})(e),className:"px-3 py-2 cursor-pointer hover:bg-orange-100",children:e},e)):(0,t.jsx)("li",{className:"px-3 py-2 text-gray-500",children:"N\u0259tic\u0259 tap\u0131lmad\u0131."})})]})}},6987:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var l=a(9379),t=a(5043),r=a(3216),i=a(5263),n=a(9285),o=a(6734),c=(a(2277),a(8132)),d=a(4450),m=a(3705),x=a(3918),u=a(579);const h=e=>{let{article:s,onSave:a,showToast:h,existingArticleCategories:g,quizzes:p}=e;const[y,j]=(0,t.useState)(s),[b,f]=(0,t.useState)(new Set),[v,N]=(0,t.useState)("all"),w=(0,r.Zp)();(0,t.useEffect)(()=>{j(s);const e=new Set(((null===s||void 0===s?void 0:s.article_quizzes)||[]).map(e=>e.quiz_id));f(e)},[s]);const k=e=>{const{name:s,value:a,type:t,checked:r}=e.target;j(e=>(0,l.A)((0,l.A)({},e),{},{[s]:"checkbox"===t?r:a}))},A=(0,t.useMemo)(()=>({spellChecker:!1,toolbar:["bold","italic","heading","|","quote","unordered-list","ordered-list","|","link","image","|","preview","side-by-side","fullscreen","|","guide"]}),[]),q=(0,t.useMemo)(()=>["all",...new Set((p||[]).map(e=>e.category||"Kateqoriyas\u0131z"))],[p]),z=(0,t.useMemo)(()=>p?"all"===v?p:p.filter(e=>(e.category||"Kateqoriyas\u0131z")===v):[],[p,v]);return y?(0,u.jsx)("div",{className:"animate-fade-in",children:(0,u.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8 items-start",children:[(0,u.jsxs)("div",{className:"lg:col-span-1 space-y-6 lg:sticky lg:top-24",children:[(0,u.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,u.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"M\u0259qal\u0259 Redaktoru"}),(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,u.jsxs)(d.A,{onClick:()=>w("/admin/articles"),variant:"secondary",className:"w-full justify-center",children:[(0,u.jsx)(x.A6,{})," Siyah\u0131ya qay\u0131t"]}),(0,u.jsxs)(d.A,{onClick:()=>{y.title&&y.title.trim()?a((0,l.A)((0,l.A)({},y),{},{selectedQuizIds:Array.from(b)})):h("M\u0259qal\u0259 ba\u015fl\u0131\u011f\u0131 bo\u015f ola bilm\u0259z.")},className:"w-full justify-center",children:[(0,u.jsx)(x.Sr,{})," Yadda saxla"]})]})]}),(0,u.jsxs)(c.A,{children:[(0,u.jsxs)("h3",{className:"font-bold text-gray-800 mb-3 flex items-center gap-2",children:[(0,u.jsx)(x.AQ,{})," \u018fsas M\u0259lumatlar"]}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ba\u015fl\u0131q"}),(0,u.jsx)("input",{type:"text",name:"title",value:y.title||"",onChange:k,className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kateqoriya"}),(0,u.jsx)(m.A,{options:g,value:y.category||"",onChange:e=>{j(s=>(0,l.A)((0,l.A)({},s),{},{category:e}))},placeholder:"Kateqoriya se\xe7in..."})]}),(0,u.jsx)("div",{children:(0,u.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,u.jsx)("input",{type:"checkbox",name:"is_published",checked:!!y.is_published,onChange:k,className:"h-4 w-4 text-orange-600 rounded border-gray-300"}),(0,u.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"D\u0259rc edilsin"})]})})]})]}),(0,u.jsxs)(c.A,{children:[(0,u.jsxs)("h3",{className:"font-bold text-gray-800 mb-3 flex items-center gap-2",children:[(0,u.jsx)(x.oo,{})," \u018flaq\u0259li Testl\u0259r"]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"quiz-category-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Testl\u0259ri kateqoriya \xfczr\u0259 filtr edin"}),(0,u.jsx)("select",{id:"quiz-category-filter",value:v,onChange:e=>N(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white focus:ring-orange-500 focus:border-orange-500",children:q.map(e=>(0,u.jsx)("option",{value:e,children:"all"===e?"B\xfct\xfcn Testl\u0259r":e},e))})]}),(0,u.jsx)("div",{className:"max-h-48 overflow-y-auto space-y-2 pr-2",children:z.length>0?z.map(e=>(0,u.jsx)("div",{children:(0,u.jsxs)("label",{className:"flex items-center cursor-pointer p-2 rounded-md hover:bg-gray-100",children:[(0,u.jsx)("input",{type:"checkbox",checked:b.has(e.id),onChange:()=>(e=>{const s=new Set(b);s.has(e)?s.delete(e):s.add(e),f(s)})(e.id),className:"h-4 w-4 text-orange-600 rounded border-gray-300"}),(0,u.jsx)("span",{className:"ml-3 text-sm text-gray-800",children:e.title})]})},e.id)):(0,u.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"Bu kateqoriyada test yoxdur."})})]})]}),(0,u.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,u.jsxs)(c.A,{children:[(0,u.jsx)("h3",{className:"font-bold text-gray-800 mb-3",children:"M\u0259qal\u0259 M\u0259zmunu"}),(0,u.jsx)(o.A,{className:"prose max-w-none",id:"article-content-editor",value:y.content||"",onChange:e=>{j(s=>(0,l.A)((0,l.A)({},s),{},{content:e}))},options:A})]}),(0,u.jsxs)(c.A,{children:[(0,u.jsx)("h3",{className:"font-bold text-gray-800 mb-3",children:"\xd6nizl\u0259m\u0259"}),(0,u.jsx)("div",{className:"prose max-w-none p-4 border rounded-md bg-gray-50 min-h-[200px]",children:(0,u.jsx)(i.oz,{remarkPlugins:[n.A],children:y.content||"\xd6nizl\u0259m\u0259 \xfc\xe7\xfcn m\u0259zmun daxil edin..."})})]})]})]})}):(0,u.jsx)("div",{children:"Y\xfckl\u0259nir..."})}},8132:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});a(5043);var l=a(579);const t=e=>{let{children:s,className:a=""}=e;return(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ".concat(a),children:s})}},8986:()=>{}}]);
//# sourceMappingURL=107.f7d8258e.chunk.js.map