{"version":3,"file":"static/js/539.23d15950.chunk.js","mappings":"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","sources":["pages/StudentGroupViewPage.js","components/ui/Card.js","components/Comments.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Card from '../components/ui/Card';\nimport Button from '../components/ui/Button';\nimport Comments from '../components/Comments';\nimport { ArrowLeftIcon, UserGroupIcon, UserCircleIcon } from '../assets/icons';\n\nconst StudentGroupViewPage = ({ group, profile, fetchComments, postComment, deleteComment }) => {\n    return (\n        <div className=\"animate-fade-in grid lg:grid-cols-3 gap-8 items-start\">\n            {/* Left Panel: Group Info & Members */}\n            <div className=\"lg:col-span-1 space-y-6 lg:sticky lg:top-24\">\n                <div className=\"flex flex-col gap-2\">\n                    <Link to=\"/my-assignments\">\n                        <Button variant=\"secondary\" className=\"w-full justify-center\">\n                            <ArrowLeftIcon /> Tapşırıqlarıma qayıt\n                        </Button>\n                    </Link>\n                </div>\n                <Card>\n                    <div className=\"flex items-center gap-3 mb-4\">\n                        <UserGroupIcon className=\"w-8 h-8 text-orange-500\" />\n                        <div>\n                            <h1 className=\"text-2xl font-bold text-gray-800\">{group.name}</h1>\n                            <p className=\"text-sm text-gray-500\">{group.description}</p>\n                        </div>\n                    </div>\n                    <h3 className=\"font-bold text-gray-800 mb-3 mt-4 pt-4 border-t\">Üzvlər ({group.members.length})</h3>\n                    <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                        {group.members.map(member => (\n                            <div key={member.user_id} className=\"flex items-center gap-3 p-2 bg-gray-50 rounded-md\">\n                                <UserCircleIcon className=\"w-6 h-6 text-gray-400\" />\n                                <span className=\"font-medium text-gray-700\">\n                                    {member.profiles?.first_name} {member.profiles?.last_name}\n                                </span>\n                            </div>\n                        ))}\n                    </div>\n                </Card>\n            </div>\n\n            {/* Right Panel: Discussion Board */}\n            <div className=\"lg:col-span-2\">\n                <Card>\n                    <Comments\n                        targetId={group.id}\n                        targetType=\"group\"\n                        profile={profile}\n                        fetchComments={fetchComments}\n                        postComment={postComment}\n                        deleteComment={deleteComment}\n                    />\n                </Card>\n            </div>\n        </div>\n    );\n};\n\nexport default StudentGroupViewPage;","import React from 'react';\n\nconst Card = ({ children, className = '' }) => (\n    <div className={`bg-white rounded-xl shadow-lg p-6 transition-all duration-300 ${className}`}>{children}</div>\n);\n\nexport default Card;","import React, { useState, useMemo, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport Button from './ui/Button';\r\nimport { ReplyIcon, TrashIcon } from '../assets/icons';\r\n\r\nconst Comment = ({ comment, onReply, onDelete, profile }) => {\r\n    const [showReplyForm, setShowReplyForm] = useState(false);\r\n    const [replyContent, setReplyContent] = useState('');\r\n\r\n    const handleReplySubmit = (e) => {\r\n        e.preventDefault();\r\n        if (!replyContent.trim()) return;\r\n        onReply(replyContent, comment.id);\r\n        setReplyContent('');\r\n        setShowReplyForm(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-2 p-3 rounded-lg bg-white shadow-sm\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-8 h-8 rounded-full bg-orange-200 flex items-center justify-center font-bold text-orange-600\">\r\n                        {comment.profiles.first_name?.[0] || 'U'}\r\n                    </div>\r\n                    <span className=\"font-semibold text-gray-800\">{comment.profiles.first_name} {comment.profiles.last_name}</span>\r\n                </div>\r\n                <span className=\"text-xs text-gray-400\">{new Date(comment.created_at).toLocaleString()}</span>\r\n            </div>\r\n            <p className=\"text-gray-700 pl-10\">{comment.content}</p>\r\n            <div className=\"flex items-center justify-end gap-2 pl-10\">\r\n                {profile && <Button variant=\"secondary\" size=\"sm\" onClick={() => setShowReplyForm(!showReplyForm)}><ReplyIcon /> Cavab ver</Button>}\r\n                {profile?.id === comment.user_id && <Button variant=\"danger\" size=\"sm\" onClick={() => onDelete(comment.id)}><TrashIcon /></Button>}\r\n            </div>\r\n            {showReplyForm && (\r\n                <form onSubmit={handleReplySubmit} className=\"pl-10 mt-2 flex gap-2\">\r\n                    <input \r\n                        type=\"text\" \r\n                        value={replyContent}\r\n                        onChange={(e) => setReplyContent(e.target.value)}\r\n                        placeholder={`Cavab verilir: ${comment.profiles.first_name}...`}\r\n                        className=\"flex-grow mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm\"\r\n                    />\r\n                    <Button type=\"submit\" size=\"sm\">Göndər</Button>\r\n                </form>\r\n            )}\r\n            {comment.children && comment.children.length > 0 && (\r\n                <div className=\"pl-6 border-l-2 border-orange-100 mt-2 space-y-3\">\r\n                    {comment.children.map(child => (\r\n                        <Comment key={child.id} comment={child} onReply={onReply} onDelete={onDelete} profile={profile} />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Comments = ({ targetId, targetType, profile, fetchComments, postComment, deleteComment }) => {\r\n    const [comments, setComments] = useState([]);\r\n    const [newComment, setNewComment] = useState('');\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        const loadComments = async () => {\r\n            const fetchedComments = await fetchComments(targetId, targetType);\r\n            setComments(fetchedComments || []);\r\n        };\r\n        if (targetId && targetType) {\r\n            loadComments();\r\n        }\r\n    }, [targetId, targetType, fetchComments]);\r\n\r\n    const handlePostComment = async (content, parentId = null) => {\r\n        const targetUrl = `${location.pathname}#comment-${parentId || 'new'}`;\r\n        const postedComment = await postComment(targetId, targetType, content, parentId, targetUrl);\r\n        if (postedComment) {\r\n            const fetchedComments = await fetchComments(targetId, targetType);\r\n            setComments(fetchedComments || []);\r\n            if (!parentId) {\r\n                setNewComment('');\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleDeleteComment = async (commentId) => {\r\n        const success = await deleteComment(commentId);\r\n        if (success) {\r\n            setComments(prev => prev.filter(c => c.id !== commentId));\r\n        }\r\n    };\r\n\r\n    const commentTree = useMemo(() => {\r\n        const map = {};\r\n        const roots = [];\r\n        comments.forEach(comment => {\r\n            map[comment.id] = { ...comment, children: [] };\r\n        });\r\n        comments.forEach(comment => {\r\n            if (comment.parent_comment_id && map[comment.parent_comment_id]) {\r\n                map[comment.parent_comment_id].children.push(map[comment.id]);\r\n            } else {\r\n                roots.push(map[comment.id]);\r\n            }\r\n        });\r\n        return roots;\r\n    }, [comments]);\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <h3 className=\"text-xl font-bold text-gray-800\">Şərhlər ({comments.length})</h3>\r\n            {profile && (\r\n                <form onSubmit={(e) => { e.preventDefault(); handlePostComment(newComment); }} className=\"flex gap-2 items-start\">\r\n                    <textarea \r\n                        value={newComment}\r\n                        onChange={(e) => setNewComment(e.target.value)}\r\n                        placeholder=\"Şərhinizi yazın...\"\r\n                        className=\"flex-grow mt-1 block w-full rounded-md border-gray-300 shadow-sm\"\r\n                        rows=\"3\"\r\n                    />\r\n                    <Button type=\"submit\">Göndər</Button>\r\n                </form>\r\n            )}\r\n            {!profile && <p className=\"text-center p-4 bg-gray-50 rounded-md\">Şərh yazmaq üçün <Link to=\"/auth\" className=\"text-orange-600 font-semibold hover:underline\">daxil olun</Link>.</p>}\r\n            \r\n            <div className=\"space-y-4\">\r\n                {commentTree.map(comment => (\r\n                    <Comment key={comment.id} comment={comment} onReply={handlePostComment} onDelete={handleDeleteComment} profile={profile} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Comments;\r\n"],"names":["_ref","group","profile","fetchComments","postComment","deleteComment","_jsxs","className","children","_jsx","Link","to","Button","variant","ArrowLeftIcon","Card","UserGroupIcon","name","description","members","length","map","member","_member$profiles","_member$profiles2","UserCircleIcon","profiles","first_name","last_name","user_id","Comments","targetId","id","targetType","concat","Comment","_comment$profiles$fir","comment","onReply","onDelete","showReplyForm","setShowReplyForm","useState","replyContent","setReplyContent","Date","created_at","toLocaleString","content","size","onClick","ReplyIcon","TrashIcon","onSubmit","e","preventDefault","trim","type","value","onChange","target","placeholder","child","_ref2","comments","setComments","newComment","setNewComment","location","useLocation","useEffect","async","fetchedComments","loadComments","handlePostComment","parentId","arguments","undefined","targetUrl","pathname","handleDeleteComment","commentId","prev","filter","c","commentTree","useMemo","roots","forEach","_objectSpread","parent_comment_id","push","rows"],"sourceRoot":""}